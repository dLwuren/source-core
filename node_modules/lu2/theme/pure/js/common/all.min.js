"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self&&self,function(){var t=document,e=window;if(e.isKeyEventBind||!t.addEventListener)return{};var i=navigator.userAgent,a="windows";/Mac\sOS\sX/i.test(i)&&(a="mac");var n="chrome";void 0!==t.mozFullScreen?n="moz":void 0===t.msHidden&&void 0!==t.hidden||(n="ie");var r={windows:"moz"==n?{ctrlKey:!1,altKey:!0,shiftKey:!0}:{ctrlKey:!1,altKey:!0,shiftKey:!1},mac:{ctrlKey:!0,altKey:!0,shiftKey:!1}}[a],s=function(t,e){if(!t)return"";e=e||"x";for(var i,a="",n=0;n<t.length;n+=1)t.charCodeAt(n)>=55296&&t.charCodeAt(n)<=56319?(i=(65536+1024*(Number(t.charCodeAt(n))-55296)+Number(t.charCodeAt(n+1))-56320).toString(16),n+=1):i=t.charCodeAt(n).toString(16),a+=e+i;return a.substr(e.length)},o=null,l=function(e){if(!t.hasTipsShow){var i=t.documentElement.scrollTop||t.body.scrollTop,a=t.documentElement.scrollLeft||t.body.scrollLeft;e.forEach((function(e){if(e.clientHeight*e.clientWidth!=0){var n=e.getAttribute("accesskey"),s=[];for(var o in r)r[o]&&s.push(o);s.push(n);var l=e.getBoundingClientRect(),d=t.createElement("div");d.className="ui-kbd-tips AK_Tips",d.setAttribute("style","top:"+(l.top+i)+"px;left:"+(l.left+a)+"px;"),d.innerHTML=s.map((function(t){return"<kbd>"+t.replace("Key","")+"</kbd>"})).join("+"),t.body.appendChild(d),d.fromTarget=e}})),t.hasTipsShow=!0,o=setTimeout((function(){d()}),3e3)}},d=function(){clearTimeout(o);var e=t.querySelectorAll(".AK_Tips");[].slice.call(e).forEach((function(e){e.fromTarget&&(e.fromTarget.hasTipsShow=null),t.body.removeChild(e)})),t.hasTipsShow=null};t.addEventListener("keydown",(function(e){var i=!1,a=e.target||t.activeElement,r=a.tagName.toLowerCase();("textarea"==r||"input"==r&&0==/checkbox|radio|select|file|button|image|hidden/i.test(a.type))&&(i=!0);var o=t.querySelectorAll("a[accesskey],area[accesskey],button[accesskey],input[accesskey],label[accesskey],legend[accesskey],textarea[accesskey]");if(0!=o.length){var c=[].slice.call(o),u=c.map((function(t){return t.getAttribute("accesskey")})),h=-1;if(u.forEach((function(t,i){if(e.key&&e.key==t||e.keyIdentifier&&parseInt(e.keyIdentifier.toLowerCase().replace("u+",""),16)==parseInt(s(t),16))return h=i,!1})),0==e.altKey&&0==e.shiftKey&&0==e.ctrlKey){if(i)return;c[h]&&(setTimeout((function(){c[h].focus()}),1),e.preventDefault())}else 0==e.altKey&&1==e.shiftKey&&0==e.ctrlKey?191!=e.keyCode||i||(t.hasTipsShow?d():l(c)):!c[h]||i||"ie"!=n&&"moz"!=n||!e.altKey||e.shiftKey||e.ctrlKey||c[h].click()}})),t.addEventListener("mousedown",(function(){d()}));var c={37:"left",38:"up",39:"right",40:"down",13:"enter",9:"tab",27:"esc"},u="ui-outline",h={add:function(t){t.className=t.className+" "+u},remove:function(t){t.className&&t.className.split&&(t.className=t.className.split(/\s+/).filter((function(t){if(t!=u)return t})).join(" "))},removeAll:function(){[].slice.call(t.querySelectorAll("."+u)).forEach((function(t){h.remove(t)}))},has:function(t){return!(!t.className||!t.className.split)&&t.className.split(/\s+/).filter((function(t){if(t==u)return t})).length>0}};e.isKeyEvent=!1,t.addEventListener("keydown",(function(i){e.isKeyEvent=!0,setTimeout((function(){e.isKeyEvent=!1}),100);var a=c[i.keyCode];if(a){var n=t.activeElement;if(n&&!/body/i.test(n.tagName)){if(/^radio|checkbox$/i.test(n.type)&&"enter"==a)return n.click(),void i.preventDefault();var r=null,s=t.querySelectorAll(".ESC");"esc"==a&&s.length&&[].slice.call(s).forEach((function(e){var i=e.id;(r=i&&t.querySelector('a[data-target="'+i+'"],input[data-target="'+i+'"],button[data-target="'+i+'"]'))&&"none"!==e.style.display&&e.clientHeight>0?r.click():e==document.activeElement&&e.click&&e.click()}));var o=n.getAttribute("data-focus"),l=n.getAttribute("data-target"),d=null;if((o||l)&&(o?d=t.getElementById(o):l&&(d=t.getElementById(l)),d&&(0!=d.clientWidth||0!=d.clientHeight))){if("tab"==a){h.removeAll();var p=d;return d.getAttribute("tabindex")||(p=d.querySelector("a[href], button:not(:disabled), input:not(:disabled)")),void(p&&p.focus())}if("enter"==a){var f=d.querySelector("."+u);if(f&&o)return i.preventDefault(),void f.click();if(l)return}if("esc"==a)return r=t.querySelector('a[data-target="'+l+'"],input[data-target="'+l+'"]'),void(o?n.blur():r&&0==/ESC/.test(r.className)&&r.click());var m=[].slice.call(d.querySelectorAll("a[href], button:not(:disabled), input:not(:disabled)")),v=-1;0!=m.length&&(m.forEach((function(t,e){o?h.has(t)&&(v=e):n==t&&(v=e),h.remove(t)})),i.preventDefault(),"left"==a||"up"==a?--v<0&&(v=-1):"right"!=a&&"down"!=a||++v>m.length-1&&(v=m.length),m[v]&&(o?h.add(m[v]):m[v].focus()))}}}})),t.addEventListener("mousedown",(function(t){var e=t.target;e&&!h.has(e)&&h.removeAll()})),t.addEventListener("click",(function(i){var a=i.target,n=t.activeElement,r=a.getAttribute("tabindex")||"-1";a&&a==n&&(/^radio|checkbox$/i.test(n.type)||r>=0)&&0==e.isKeyEvent&&n.blur()})),t.addEventListener("focusin",(function(t){var i=t.target;i&&(/^javascript/.test(i.href)&&!i.getAttribute("role")&&i.setAttribute("role","button"),e.isKeyEvent&&"none"==window.getComputedStyle(i).outlineStyle&&h.add(i))})),t.addEventListener("focusout",(function(t){var e=t.target;e&&h.remove(e)})),e.isKeyEventBind=!0}(),function(t,e){var i;t.Follow=((i=function(t,e,i){var a={offsets:{x:0,y:0},safeArea:[0,0,0,0],position:"4-1",edgeAdjust:!0};for(var n in e&&"[object Object]"===Object.prototype.toString.call(e)&&(i=e,e=null),i||(i={}))void 0===i[n]&&delete i[n];var r=Object.assign({},a,i);if(!e){var s=t.getAttribute("is-follow")||t.dataset.target;if(!s)return;if(!(e=document.getElementById(s)||document.querySelector("."+s)||document.querySelector(s)))return}var o=["4-1","1-4","5-7","2-3","2-1","6-8","3-4","4-3","8-6","1-2","7-5","3-2"],l=t.dataset.offsets,d=[];r.offsets.map&&r.offsets.length?d=r.offsets:"string"==typeof r.offsets&&(d=r.offsets.trim().split(/,\s*|\s+/)),l&&!i.offsets&&(d=l.trim().split(/,\s*|\s+/)),d.length&&(r.offsets={},r.offsets.x=d[0],r.offsets.y=d[1]||d[0]);var c=t.dataset.offsetX,u=t.dataset.offsetY;c&&(r.offsets.x=c),u&&(r.offsets.y=u),r.offsets.x*=1,r.offsets.y*=1;var h=t.dataset.position,p=t.dataset.align,f=o.some((function(t){return t===p}));!h&&p&&f&&(h=p),!h||i&&i.position||(r.position=h);var m=t.dataset.edgeAdjust||r.edgeAdjust,v=!("0"===m||"none"===m||"false"===m||!1===m);"string"==typeof m&&"boolean"!=typeof r.edgeAdjust&&(r.edgeAdjust=v);var g=e.style.position;"absolute"!=g&&(e.style.position="absolute");var y=t.getBoundingClientRect(),b=e.getBoundingClientRect();if(b.width*b.height==0)return e.style.position=g||"",void window.console.warn((e.id?"id为"+e.id+"的":"")+"目前元素尺寸为0，无法定位");var w=window.pageYOffset,E=window.pageXOffset,A=window.innerWidth,S=window.innerHeight;(y.left<0&&y.right<0||y.top<0&&y.bottom<0||y.left>A&&y.right>A||y.top>S&&y.bottom>S)&&(r.edgeAdjust=v=!1);var L=e.offsetParent,x=L.getBoundingClientRect(),T={follow:e,target:e,trigger:t};this.element=this.element?Object.assign(this.element,T):T,this.params=this.params?Object.assign(this.params,r):r;var M=r.offsets,j=x.top+w,k=x.left+E;L===document.body&&"static"===window.getComputedStyle(L).position&&(j=0,k=0);var C,D,q=r.position;if("string"!=typeof q&&2===q.length){var O=q;return C=O[0]+M.x,D=O[1]+M.y,!0===r.edgeAdjust&&(C+b.width>A+E&&(C=A+E-b.width-M.x),D+b.height>S+w&&(D=S+w-b.height-M.y)),e.style.left=C+"px",e.style.top=D+"px",e.setAttribute("data-align","3-1"),void this.zIndex()}!1===o.some((function(t){return t===q}))&&(q=a.position);var N=t.dataset.safeArea||r.safeArea;"string"==typeof N&&(N=N.trim().split(/(?:,\s*|\s+)/)),1==(N=N.map((function(t){return parseFloat(t)||0}))).length?N=N.concat(N[0],N[0],N[0]):2==N.length?(N.push(N[0]),N.push(N[1])):3==N.length&&N.push(N[1]);var H={"left-right":b.width+M.x+N[3]>y.left,"top-bottom":y.top-(b.height+M.y+N[0])<0,"right-left":y.right+b.width+M.x+N[1]>A,"bottom-top":y.bottom+b.height+M.y+N[2]>S,"right-right":b.width+M.x+N[3]>y.right,"left-left":y.left+b.width+M.x+N[1]>A,"bottom-bottom":b.height+M.y+N[0]>y.bottom,"top-top":y.top+b.height+M.y+N[2]>S},I="bottom",V=function(){switch(q){case"1-4":case"5-7":case"2-3":D=y.top-b.height,C="1-4"===q?y.left:"5-7"===q?y.left-(b.width-y.width)/2:y.left-(b.width-y.width),I="top",v&&H["top-bottom"]&&(H["bottom-top"]?H["left-right"]&&H["right-left"]||(q={"1-4":"2-1","5-7":"6-8","2-3":"3-4"}[q],V()):(q={"1-4":"4-1","5-7":"7-5","2-3":"3-2"}[q],V()));break;case"2-1":case"6-8":case"3-4":C=y.right,D="2-1"===q?y.top:"6-8"===q?y.top-(b.height-y.height)/2:y.top-(b.height-y.height),I="right",v&&H["right-left"]&&(H["left-right"]?H["top-bottom"]&&H["bottom-top"]||(q={"2-1":"1-4","6-8":"5-7","3-4":"2-3"}[q],V()):(q={"2-1":"1-2","6-8":"8-6","3-4":"4-3"}[q],V()));break;case"4-1":case"7-5":case"3-2":D=y.bottom,C="4-1"===q?y.left:"7-5"===q?y.left-(b.width-y.width)/2:y.left-(b.width-y.width),I="bottom",v&&H["bottom-top"]&&(H["top-bottom"]?H["left-right"]&&H["right-left"]||(q={"4-1":"2-1","7-5":"6-8","3-2":"3-4"}[q],V()):(q={"4-1":"1-4","7-5":"5-7","3-2":"2-3"}[q],V()));break;case"1-2":case"8-6":case"4-3":C=y.left-b.width,D="1-2"===q?y.top:"8-6"===q?y.top-(b.height-y.height)/2:y.top-(b.height-y.height),I="left",v&&H["left-right"]&&(H["right-left"]?H["top-bottom"]&&H["bottom-top"]||(q={"1-2":"1-4","8-6":"5-7","4-3":"2-3"}[q],V()):(q={"1-2":"2-1","8-6":"6-8","4-3":"3-4"}[q],V()))}};V(),C=C+M.x-k,D=D+M.y-j,v&&("top"==I?D-=N[2]:"bottom"==I?D+=N[0]:"left"==I?C-=N[1]:C+=N[3]),D+=w,C+=E,e.style.left=Math.round(C)+"px",e.style.top=Math.round(D)+"px",b=e.getBoundingClientRect(),v&&("top"==I||"bottom"==I?b.left<N[3]?C+=N[3]-b.left:b.right+N[1]>A&&(C-=b.right+N[1]-A):b.top<N[0]?D+=N[0]-b.top:b.bottom+N[2]>S&&(D-=b.bottom+N[2]-S),e.style.left=Math.round(C)+"px",e.style.top=Math.round(D)+"px"),e.setAttribute("data-align",q),e.setAttribute("data-direction",I),this.zIndex()}).prototype.zIndex=function(){var t=this.element.target,e=window.getComputedStyle(t).zIndex,i=19;document.body.childNodes.forEach((function(e){if(1==e.nodeType){var a=window.getComputedStyle(e),n=1*a.zIndex;n&&t!=e&&"none"!=a.display&&(i=Math.max(n+1,i))}})),i!=e&&(t.style.zIndex=i)},i)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){var i,a,n;t.Tab=(i="active",a={add:function(){return["ui-tab"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-tab"}},(n=function(t,e){var a=t;if(a){"string"==typeof t&&(a=document.querySelectorAll(t)),"function"==typeof(e=e||{})&&(e={onSwitch:e});var n={eventType:"click",index:"auto",history:!0,slide:!1,autoplay:0,onSwitch:function(){}},r=Object.assign({},n,e),s=r.index,o=[];a.forEach(function(t,e){"number"!=typeof s&&t.classList.contains(i)&&(s=e),t.setAttribute("data-index",e),t.setAttribute("role","tab"),t.setAttribute("aria-selected","false");var a=this.getPanel(t);o.push(a),a&&a.setAttribute("role","tabpanel")}.bind(this)),"number"!=typeof s&&(s=0),this.element={tabs:a,tab:a[s],panels:o,panel:o[s]},r.index=s,this.params=r,this.callback={switch:r.onSwitch},this.events(),window.addEventListener("DOMContentLoaded",function(){a[s].dispatchEvent(new CustomEvent(r.eventType)),r.onSwitch.call(this,a[s],o[s],null,null)}.bind(this)),a.length>1&&a[0].parentElement==a[1].parentElement&&a[0].parentElement.setAttribute("role","tablist")}}).prototype.getPanel=function(t){t||(t=this.element.tab);var e=t.getAttribute("data-rel")||t.getAttribute("href");return e?/^#/.test(e)?document.querySelector(e):document.querySelector("#"+e)||document.querySelector("."+e):null},n.prototype.show=function(t){var e=this.index,n=this.element.tabs,r=this.params;if(t=t||this.element.tab){var s=this.getPanel(t),o=t.parentElement;this.element.tab=t,this.element.panel=s;var l=t.getAttribute("href");if(!t.classList.contains(i)){e=o.querySelector("."+i).getAttribute("data-index"),t.classList.add(i);var d,c=n[e],u=this.getPanel(c);if(c.classList.remove(i),s.classList.add(i),u.classList.remove(i),e=t.getAttribute("data-index"),this.params.index=1*e,1==r.slide&&history.pushState&&((d=o.querySelector("."+a.add("line")))||((d=document.createElement("i")).className=a.add("line"),o.insertBefore(d,n[0])),d.style.display="block",d.style.width=t.clientWidth+"px",d.style.left=t.offsetLeft+"px"),this.callback.switch.call(this,t,c,s,u),/^(:?javas|#)/.test(l)){var h=(t.getAttribute("data-rel")||l||"").replace(/^#/,"");if(1==r.history){var p=new URLSearchParams(location.search);p.set("tab",h);var f=location.hash;l==f&&(location.hash=f=""),history.replaceState?history.replaceState(null,document.title,location.href.split("?")[0]+"?"+p.toString()+f):location.replace("#tab="+h)}}}}},n.prototype.events=function(){var t=this.element.tabs,e=this.params;t.forEach(function(t){t.addEventListener(e.eventType,function(t){/^(:?javas|#)/.test(t.target.getAttribute("href"))&&t.preventDefault(),this.show(t.target)}.bind(this),!1)}.bind(this)),e.autoplay&&e.autoplay>0&&(this.timerSlide=setInterval(function(){this.show(t[this.params.index+1]||t[0])}.bind(this),e.autoplay),t.forEach(function(i){[i,this.getPanel(i)].forEach(function(i){i&&(i.addEventListener("mouseenter",function(){clearInterval(this.timerSlide)}.bind(this),!1),i.addEventListener("mouseleave",function(){this.timerSlide=setInterval(function(){this.show(t[this.params.index+1]||t[0])}.bind(this),e.autoplay)}.bind(this),!1))}.bind(this))}.bind(this)))},n)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Select=function(){var t="select",e="selected",i="disabled",a="active",n="reverse",r="multiple",s={add:function(){return["ui",t].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+t}},o=function(t){if(!t)return this;var e=t;if(!e.data||!e.data.select){var a=e.style.width||e.getAttribute("width");a||(a=e.offsetWidth),this.offsetWidth=a;var n=e.id;n=n?"lulu_"+n:("lulu_"+Math.random()).replace("0.",""),this.id=n;var o="string"==typeof e.getAttribute(r);this.multiple=o;var l=document.createElement("div"),d=document.createElement("a");e[i]||d.setAttribute("href","javascript:"),d.setAttribute("data-target",n),d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),d.setAttribute("aria-owns",n),d.classList.add(s.add("button"));var c=document.createElement("ui-select-list");c.id=n,c.setAttribute("role","listbox"),c.setAttribute("aria-expanded","true"),c.classList.add(s.add("datalist")),0==o?(l.appendChild(d),e.style.display="none",e.insertAdjacentElement("afterend",l)):(l.appendChild(c),e.style.position="absolute",e.style.zIndex=1,e.insertAdjacentElement("afterend",l),c.setAttribute("aria-hidden","true")),this.element={select:e,combobox:l,button:d,datalist:c},this.refresh(),this.events(),e.data?e.data.select=this:e.data={select:this}}};o.prototype.events=function(){var r=this.element,o=r.select,l=r.combobox,d=r.button,c=r.datalist;if(0==this.multiple){document.isSelectMouseEvent||(document.addEventListener("click",function(t){var u=t.target;if(u&&u.closest&&((l=u.closest("."+s))||(c=u.closest("ui-select-list"))&&c.id&&(d=document.querySelector('a[data-target="'+c.id+'"]'))&&(l=d.closest("."+s)),(o=l&&l.previousElementSibling)&&o.data&&o.data.select))if(r=o.data.select.element,d=r.button,c=r.datalist,d.contains(u)){if(o[i])return!1;if(l.classList.toggle(a),l.classList.contains(a)){document.body.contains(c)||document.body.appendChild(c);var h=d.getBoundingClientRect();c.classList.add(a),c.style.left=h.left+window.pageXOffset+"px",c.style.top=h.bottom+window.pageYOffset-1+"px",c.style.width=h.width+"px",this.zIndex();var p=c.getBoundingClientRect(),f=p.bottom+window.pageYOffset>Math.max(document.body.clientHeight,window.innerHeight);l.classList[f?"add":"remove"](n),f&&(c.style.top=h.top+window.pageYOffset-p.height+1+"px"),d.setAttribute("aria-expanded","true");var m=l.dataScrollTop,v=c.querySelector("."+e);m&&v&&m[1]==v.getAttribute("data-index")&&m[2]==v.innerText&&(c.scrollTop=m[0],delete l.dataScrollTop)}else l.classList.remove(n),d.setAttribute("aria-expanded","false"),c.remove()}else if(c.contains(u)){var g=u,y=null,b=g.classList.contains(i),w=g.getAttribute("data-index"),E=c.scrollTop;l.dataScrollTop=[E,w,g.innerText],0==b&&(y=o[w])&&(y[e]=!0),l.classList.remove(a),d.setAttribute("aria-expanded","false"),c.remove(),d.focus(),d.blur(),0==b&&(o.refresh(),o.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}}.bind(this)),document.addEventListener("mouseup",(function(e){var i=e.target;i&&(l=document.querySelector(t+"+."+s+"."+a))&&(d=l.querySelector("."+s.add("button")),(c=document.getElementById(d.getAttribute("data-target")))&&0==l.contains(i)&&0==c.contains(i)&&(l.classList.remove(a),l.classList.remove(n),c.remove(),d&&d.setAttribute("aria-expanded","false")))})),document.isSelectMouseEvent=!0);var u=function(){o[i]?d.removeAttribute("href"):d.href="javascript:"};if(window.MutationObserver)new MutationObserver((function(t){t.forEach((function(t){"attributes"==t.type&&u()}))})).observe(o,{attributes:!0,attributeFilter:[i]});else o.addEventListener("DOMAttrModified",(function(t){t.attrName==i&&u()}))}else o.addEventListener("change",function(){this.refresh()}.bind(this)),o.addEventListener("scroll",(function(){c.scrollTop=o.scrollTop})),o.addEventListener("mousedown",(function(){o.setAttribute("data-active","true")})),o.addEventListener("mousemove",function(t){if(o.getAttribute("data-active"))this.refresh();else for(var a=t.clientY,n=c.querySelectorAll("a"),r=0;r<n.length;r++){var s=n[r];s.removeAttribute("href");var l=s.getBoundingClientRect().top,d=l+s.clientHeight;if(a>=l&&a<=d){0==s.classList.contains(e)&&0==s.classList.contains(i)&&(s.href="javascript:");break}}}.bind(this)),o.addEventListener("mouseout",(function(){c.querySelectorAll("a[href]").forEach((function(t){t.removeAttribute("href")}))})),document.addEventListener("mouseup",(function(){o.removeAttribute("data-active")}))},o.prototype.getData=function(){var t=this.element.select,e=t.querySelectorAll("option");if(0==e.length)return[{html:""}];var i=t.querySelectorAll("optgroup"),a=!!t.querySelector("optgroup[label]");if(i.length){var n=[];return i.forEach((function(t){n.push({html:t.label,disabled:t.disabled,className:t.className,hr:!a}),t.querySelectorAll("option").forEach((function(e){n.push({html:e.label||e.innerHTML,value:e.value,selected:e.selected,disabled:t.disabled||e.disabled,className:e.className,intent:a})}))})),n}return[].slice.call(e).map((function(t){return{html:t.label||t.innerHTML,value:t.value,selected:t.selected,disabled:t.disabled,className:t.className}}))},o.prototype.refresh=function(t){var a=this.id,n=this.multiple,r=this.element,o=r.select,l=r.combobox,d=r.button,c=r.datalist;t=t||this.getData(),l.className=(o.className+" "+s).trim();var u,h=this.offsetWidth;/\D$/.test(h)?l.style.width=h:l.style.width=h+"px",n?l.style.height=o.style.height||o.offsetHeight+"px":d.innerHTML='<span class="'+s.add("text")+'">'+(u="",t.forEach((function(t){t.selected&&(u=t.html)})),(u||t[0].html)+'</span><i class="')+s.add("icon")+'" aria-hidden="true"></i>';var p=-1;return c.innerHTML=t.map((function(t){var r=[s.add("datalist","li")];return t.className&&r.push(t.className),t[e]&&r.push(e),t[i]&&r.push(i),void 0!==t.hr?t.hr?'<div class="'+(r=[s.add("datalist","hr"),t.className]).join(" ")+'"></div>':'<div class="'+r.join(" ")+'" role="heading">'+t.html+"</div>":(p++,t.intent&&r.push(s.add("intent")),t.html?n?'<a class="'+r.join(" ")+'" data-index='+p+">"+t.html+"</a>":"<a "+(t[i]?"":'href="javascript:" ')+'class="'+r.join(" ")+'" data-index='+p+' data-target="'+a+'" role="option" aria-selected="'+t[e]+'">'+t.html+"</a>":(r.push(i),'<span class="'+r.join(" ")+'"></span>'))})).join(""),this},o.prototype.zIndex=function(){var t=document.querySelector("body > ui-select-list.active"),e=window.getComputedStyle(t).zIndex,i=19;document.body.childNodes.forEach((function(e){if(1==e.nodeType){var a=window.getComputedStyle(e),n=1*a.zIndex;n&&t!=e&&"none"!=a.display&&(i=Math.max(n+1,i))}})),i!=e&&(t.style.zIndex=i)},o.prototype.remove=function(){var t=this.element.combobox;t&&t.remove()},Object.defineProperty(HTMLSelectElement.prototype,"value",{configurable:!0,enumerable:!0,writeable:!0,get:function(){var t=[];return this.querySelectorAll("option").forEach((function(i){1==i[e]&&t.push(i.value)})),t.join()},set:function(t){var i=!1,a="string"==typeof this.getAttribute("multiple");t=a?t.split(","):[t.toString()],this.querySelectorAll("option").forEach((function(n){0==a&&1==i||(-1!=t.indexOf(n.value)?n[e]=i=!0:a&&(n[e]=!1))})),1==i&&this.refresh()}}),HTMLSelectElement.prototype.refresh=function(){this.data&&this.data.select?this.data.select.refresh():new o(this)};var l=function(){if(!1!==window.autoInit&&(document.querySelectorAll("select").forEach((function(t){"1"!=window.getComputedStyle(t).opacity&&t.refresh()})),!1!==window.watching)){var t=function(e,i){if(1==e.nodeType)if("SELECT"==e.tagName)"remove"==i?e.data&&e.data.select?e.data.select[i]():e.parentNode.removeChild(e):e[i]();else if("OPTION"==e.tagName){var a=e.parentElement;a?a.data&&a.data.select&&setTimeout((function(){a.refresh()}),16):this.target&&"SELECT"==this.target.tagName&&this.target.refresh()}else"refresh"==i&&(l.flag=!1,e.querySelectorAll("select").forEach((function(e){t(e,i)})),l.flag=!0)};if(window.MutationObserver){new MutationObserver((function(e){!1!==l.flag&&!1!==window.watching&&e.forEach((function(e){var i=e.addedNodes,a=e.removedNodes;i.length&&i.forEach((function(i){t.call(e,i,"refresh")})),a.length&&a.forEach((function(i){t.call(e,i,"remove")}))}))})).observe(document.body,{childList:!0,subtree:!0})}else{var e=[],i=null,a=function(a,n,r){!1!==l.flag&&!1!==window.watching&&1==a.nodeType&&(clearTimeout(i),"SELECT"==a.tagName?e.push({action:n,node:a}):"OPTION"!=a.tagName||0!=e.length&&0!=e[e.length-1].node.contains(a)||e.push({action:"refresh",node:r.relatedNode||a}),i=setTimeout((function(){l.flag=!1,e.forEach((function(e){t(e.node,e.action)})),l.flag=!0,e=[]}),16))};document.body.addEventListener("DOMNodeInserted",(function(t){a(t.target,"refresh",t)})),document.body.addEventListener("DOMNodeRemoved",(function(t){a(t.target,"remove",t)}))}}};"loading"!=document.readyState?l():window.addEventListener("DOMContentLoaded",l);return o}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Drop=function(){var t=(this||self).Follow,e=function(t,e,i){return this.init(t,e,i),this};e.prototype.init=function(t,e,i){"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),e&&"object"==typeof e&&"number"!=typeof e.nodeType&&(i=e,e=null);var a={eventType:"null",offsets:{x:0,y:0},position:"7-5",selector:"",edgeAdjust:!0,onShow:function(){},onHide:function(){}};for(var n in i=i||{},a)if(void 0===i[n]&&t){var r=t.getAttribute("data-"+n.toLowerCase());if(null!==r)if("edgeAdjust"==n&&"false"==r)i[n]=!1;else if("offsets"==n){var s=r.split(/,|\s+/),o={x:Number(s[0].trim())||0,y:Number(s[1].trim())||0};i[n]=o}else i[n]=r}var l=Object.assign({},a,i||{});return this.element={trigger:t,target:e},this.callback={show:l.onShow,hide:l.onHide},this.params={eventType:l.eventType,offsets:l.offsets,position:l.position,selector:l.selector,edgeAdjust:l.edgeAdjust},this.display=!1,e&&t?(this.events(),t.data||(t.data={}),t.data.drop=this,this):this},e.prototype.events=function(){var t=this.element.trigger,e=this.element.target,i=this.params,a=function(e){if(!i.selector)return null;var a=e.closest(i.selector);return 0==t.contains(a)?null:a};switch(i.eventType){case"null":this.show();break;case"hover":var n,r;t.addEventListener("mouseover",function(t){if(t.relatedTarget!==t.target){var e=a(t.target);e&&(this.element.trigger=e),i.selector&&!e||(n=setTimeout(function(){this.show()}.bind(this),150),clearTimeout(r))}}.bind(this)),t.addEventListener("mouseleave",function(){clearTimeout(n),r=setTimeout(function(){this.hide()}.bind(this),200)}.bind(this)),e.isBindDropHover||(e.addEventListener("mouseenter",(function(){clearTimeout(r)})),e.addEventListener("mouseleave",function(){r=setTimeout(function(){this.hide()}.bind(this),100)}.bind(this)),e.isBindDropHover=!0),t.addEventListener("click",function(t){if(window.isKeyEvent){t.preventDefault();var e=a(t.target);e&&(this.element.trigger=e),i.selector&&!e||(0==this.display?this.show():this.hide())}}.bind(this));break;case"click":case"contextmenu":t.addEventListener(i.eventType,function(t){t.preventDefault();var e=a(t.target);if(e&&(this.element.trigger=e),!i.selector||e){if("contextmenu"==i.eventType)return i.position=[t.pageX,t.pageY],void this.show();0==this.display?this.show():this.hide()}}.bind(this))}document.addEventListener("mouseup",function(t){var e=t&&t.target;if(e&&1==this.display){var i=this.element.trigger,a=this.element.target;a&&i&&0==i.contains(e)&&0==a.contains(e)&&this.hide()}}.bind(this)),window.addEventListener("resize",function(){this.follow()}.bind(this))},e.prototype.follow=function(){var e=this.element.trigger,i=this.element.target;return 1==this.display&&"none"!=window.getComputedStyle(e).display&&new t(e,i,{offsets:this.params.offsets,position:this.params.position,edgeAdjust:this.params.edgeAdjust}),this},e.prototype.show=function(){var t=this.element.trigger,e=this.element.target;e&&0==document.body.contains(e)&&document.body.appendChild(e),this.display=!0,e.style.position="absolute",e.style.display="inline",e.classList.add("ESC");var i=e.id;return i||(i=("lulu_"+Math.random()).replace("0.",""),e.id=i),t.setAttribute("data-target",i),t.setAttribute("aria-expanded","true"),this.follow(),"function"==typeof this.callback.show&&this.callback.show.call(this,t,e),this},e.prototype.hide=function(){var t=this.element.trigger,e=this.element.target;return e.style.display="none",e.classList.remove("ESC"),t.setAttribute("aria-expanded","false"),window.isKeyEvent&&t.focus(),this.display=!1,"function"==typeof this.callback.hide&&this.callback.hide.call(this,t,e),this},e.prototype.list=function(t,e,i){if([].slice.call(arguments).forEach((function(a){var n=typeof a;"string"==n?t=document.querySelector(a):"function"==n?e=a:"object"==n&&("number"==typeof a.nodeType?t=a:a.map?e=a:i=a)})),t&&"number"!=typeof t.nodeType&&(t=null),!(t=t||this.element.trigger)||!e)return this;if(t.data&&t.data.drop)return t.data.drop;var a={eventType:"click",offsets:{x:0,y:0},position:"4-1",selector:"",width:"",onShow:function(){},onHide:function(){},onSelect:function(){}},n=Object.assign({},a,i||{}),r="selected",s="disabled",o={add:function(){return["ui-droplist"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-droplist"}},l="innerHTML";t.matches("input")&&(l="value"),this.data=e;var d=e;"function"==typeof e&&(d=e());var c="-1",u=!1,h=document.createElement("div");h.setAttribute("role","listbox"),h.setAttribute("tabindex","-1"),/^\d+$/.test(n.width)?h.style.width=n.width+"px":h.style.width=n.width,h.className=o.add("x");var p=function(e,i){e&&e.length&&e.forEach((function(e,a){var n=i.concat(a);e&&e.data?p(e.data,n):(e&&e[r]&&!e[s]&&e.value&&(t[l]=e.value,c=n.join("-")),e&&e[r]&&(u=!0))}))};p(d,[]);var f=(t[l]||"").trim();0==u&&f&&(p=function(t,e){t&&t.length&&t.forEach((function(t,i){var a=e.concat(i);t&&t.data?p(t.data,a):"string"==typeof t.value&&t.value.trim()==f&&(c=a.join("-"),t[r]=!0)}))})(d,[]);var m=function(t,e){"function"==typeof e&&(e=e()),e&&0!=e.length||(e=[{value:"没有数据",disabled:!0}]);var i,a,n=e.some((function(t){return t&&t[r]}));t.innerHTML=(i="",i+=(a=function(t,e){var i="";return t.forEach((function(t,l){if("-"!=t&&null!==t&&"{}"!=JSON.stringify(t)){var d=e.concat(l),u=t.href||"javascript:",h="";t.target&&(h=' target="'+t.target+'"');var p=o.add("li");t[r]&&(p=p+" "+r);var f="";t.data&&(f=" data-sublist");var m="";t.label&&(m=' aria-label="'+t.label+'"'),0==n&&c==d.join("-")&&(t[r]=!0),1!=t[s]?(i+='<a href="'+u+'"'+h+m+' class="'+p+'" data-index="'+d.join("-")+'" role="option" aria-selected="'+(t[r]||"false")+'" '+f+">"+t.value+"</a>",t.data&&(i+='<div class="'+o.add("xx")+'"><div class="'+o.add("x")+'" role="listbox">'+a(t.data,d)+"</div></div>")):i+='<span class="'+p+'"'+m+">"+t.value+"</span>"}else i+='<hr class="'+o.add("hr")+'">'})),i})(e,[])),t.listData=e};return this.init(t,h,{eventType:n.eventType,offsets:n.offsets,selector:n.selector,position:n.position,onShow:function(){m.call(this,h,this.data),n.onShow.apply(this,arguments)},onHide:n.onHide}),h.addEventListener("click",function(e){if(1==e.target.nodeType&&e.target.closest){var i=e.target.closest("a");if(i){var a=h.listData,s=i.getAttribute("data-index");if(s){var d=null;if(s.split("-").forEach((function(t){d=null===d?a[t]:d.data?d.data[t]:d[t]})),d){if("string"==typeof i.getAttribute("data-sublist")){i.classList.add(r);var u=i.nextElementSibling.querySelector("."+o.add("x"));if(!u)return;var p=u.getBoundingClientRect();p.right>window.innerWidth?u.classList.add("reverse"):u.classList.remove("reverse");var f=0;return p.bottom>window.innerHeight&&(f=window.innerHeight-p.bottom),u.style.msTransform="translateY("+f+"px)",void(u.style.transform="translateY("+f+"px)")}if(s!=c){var m=null;"-1"!=c&&(c.split("-").forEach((function(t){m=null===m?a[t]:m.data?m.data[t]:m[t]})),m&&delete m[r]),d[r]=!0,c=s}n.onSelect.call(this,d,i),"contextmenu"==n.eventType||""!=n.selector||d.href||(t[l]=d.value),this.hide()}}}}}.bind(this)),h.addEventListener("mouseover",(function(t){if(1==t.target.nodeType&&t.target.closest){var e=t.target.closest("a");if(e){var i=e.parentElement.querySelector("."+r+"[data-sublist]");i&&i!=e&&i.classList.remove(r),0==e.classList.contains(r)&&"string"==typeof e.getAttribute("data-sublist")&&e.click()}}})),this},e.prototype.panel=function(t,e){if(2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&(e=arguments[0],t=null),"string"==typeof t&&(t=document.querySelector(t)),!(t=t||this.element.trigger))return this;if(t.data&&t.data.drop)return t.data.drop;var i={title:"",content:"",buttons:[{},{}],width:"auto",eventType:"click",selector:"",offsets:{x:0,y:0},position:"4-1",onShow:function(){},onHide:function(){}},a=Object.assign({},i,e||{}),n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M116.152,99.999l36.482-36.486c2.881-2.881,2.881-7.54,0-10.42 l-5.215-5.215c-2.871-2.881-7.539-2.881-10.42,0l-36.484,36.484L64.031,47.877c-2.881-2.881-7.549-2.881-10.43,0l-5.205,5.215 c-2.881,2.881-2.881,7.54,0,10.42l36.482,36.486l-36.482,36.482c-2.881,2.881-2.881,7.549,0,10.43l5.205,5.215 c2.881,2.871,7.549,2.871,10.43,0l36.484-36.488L137,152.126c2.881,2.871,7.549,2.871,10.42,0l5.215-5.215 c2.881-2.881,2.881-7.549,0-10.43L116.152,99.999z"/></svg>',r={add:function(){return["ui-dropanel"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-dropanel"}},s=document.createElement("div");s.className=r.add("x"),/^\d+$/.test(a.width)?s.style.width=a.width+"px":/^\d+\D+$/.test(a.width)&&(s.style.width=a.width);var o=document.createElement("h5");o.className=r.add("title"),o.innerHTML=a.title;var l=document.createElement("button");l.setAttribute("aria-label","关闭"),l.innerHTML=n,l.className=r.add("close");var d=document.createElement("content");d.className=r.add("content"),d.innerHTML=a.content;var c=document.createElement("div");return c.className=r.add("footer"),s.appendChild(o),s.appendChild(l),s.appendChild(d),s.appendChild(c),this.init(t,s,{eventType:a.eventType,offsets:a.offsets,selector:a.selector,position:a.position,onShow:a.onShow,onHide:a.onHide}),Object.assign(this.element,{panel:s,title:o,close:l,content:d,footer:c}),l.addEventListener("click",function(){this.hide()}.bind(this),!1),a.buttons.forEach(function(t,e){var i=(t=t||{}).type||"";i||0!=e||(i="danger");var a=t.value;a||(a=["确定","取消"][e]);var n=t.events||{click:function(){this.hide()}.bind(this)};"function"==typeof n&&(n={click:n});var s=null;for(var o in t.for?((s=document.createElement("label")).setAttribute("for",t.for),s.setAttribute("role","button")):(s=document.createElement("button"),this.element["button"+e]=s),s.innerHTML=a,s.className=String(r).replace("dropanel","button")+" "+r.add("button")+" "+(t.className||""),i&&s.setAttribute("data-type",i),this.element["button"+e]=s,n)s.addEventListener(o,function(t){t.drop=this,n[o](t)}.bind(this),!1);this.element.footer.appendChild(s)}.bind(this)),this};var i=function(){var t="[is-drop]",i=function(t){t&&t.forEach&&t.forEach((function(t){if(1===t.nodeType){var i=t.getAttribute("is-drop"),a={eventType:t.getAttribute("data-eventtype")||"click"},n=null;n=i?new e(t,i,a):new e(t,a),t.dispatchEvent(new CustomEvent("connected",{detail:{drop:n}}))}}))};(i(document.querySelectorAll(t)),!1!==window.watching)&&(window.MutationObserver?new MutationObserver((function(e){e.forEach((function(e){"childList"==e.type&&e.addedNodes.forEach((function(e){e.matches&&e.matches(t)?i([e]):e.querySelector&&i(e.querySelectorAll(t))}))}))})).observe(document.body,{childList:!0,subtree:!0}):document.body.addEventListener("DOMNodeInserted",(function(t){i([t.target])})))};"loading"!=document.readyState?i():window.addEventListener("DOMContentLoaded",i);return e}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Tips=function(){var t=(this||self).Follow,e={add:function(){return["ui-tips"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-tips"}},i="reverse",a=function(t,e){if(!t)return this;var i={eventType:"hover",align:"auto",content:"",onShow:function(){},onHide:function(){}},n=t;if("string"==typeof t&&0==(n=document.querySelectorAll(t)).length)return this;if(n.data&&n.data.tips)return n.data.tips;if(n.length&&n.forEach)return n.forEach((function(t){new a(t,e)})),n[0].data.tips;var r=Object.assign({},i,e||{});return this.element={trigger:n},this.callback={show:r.onShow,hide:r.onHide},this.params={eventType:r.eventType,align:r.align},r.content&&(this.content=r.content),this.events(),n.data||(n.data={}),n.data.tips=this,this};Object.defineProperty(a.prototype,"content",{configurable:!0,enumerable:!0,writeable:!0,get:function(){var t=this.element&&this.element.trigger;if(!t)return"";var e=t.getAttribute("title")||t.getAttribute("data-title")||"";return t.setAttribute("data-title",e),t.setAttribute("aria-label",e),t.removeAttribute("title"),e},set:function(t){var e=this.element&&this.element.trigger;e&&(e.setAttribute("data-title",t),e.setAttribute("aria-label",t))}}),a.prototype.events=function(){var t=this.element.trigger;if(0==/^a|input|button|area$/i.test(t.tagName)&&(t.setAttribute("tabindex","0"),t.setAttribute("role","tooltip")),t.classList.contains(e))return this.content,void t.addEventListener("click",(function(){window.isKeyEvent||this.blur()}),!1);var i,a=this.params,n=100;getComputedStyle(document.documentElement).getPropertyValue("--hoverNone")&&"hover"==a.eventType&&(a.eventType="click"),"hover"==a.eventType?(t.addEventListener("mouseenter",function(){i=setTimeout(function(){this.show()}.bind(this),n)}.bind(this)),t.addEventListener("mouseleave",function(){clearTimeout(i),this.hide()}.bind(this)),t.addEventListener("focus",function(){window.isKeyEvent&&this.show()}.bind(this)),t.addEventListener("blur",function(){this.hide()}.bind(this))):"click"==a.eventType?(t.addEventListener("click",function(){this.show()}.bind(this)),document.addEventListener("mouseup",function(e){var i=e.target;1==this.display&&0==t.contains(i)&&0==this.element.tips.contains(i)&&this.hide()}.bind(this))):this.show()},a.prototype.show=function(){var a=this.content;if(!a)return this;var n,r,s=this.element.trigger,o=this.element.tips;if(o)o.style.display="block",n=o.querySelector("span"),(r=o.querySelector("i")).style.left="",n.innerHTML=a;else{if((o=document.createElement("div")).classList.add(e.add("x")),(n=document.createElement("span")).classList.add(e.add("content")),n.innerHTML=a,(r=document.createElement("i")).classList.add(e.add("arrow")),!s.getAttribute("aria-label")){var l="lulu_"+(Math.random()+"").replace("0.","");n.id=l,s.setAttribute("aria-labelledby",l)}o.appendChild(n),o.appendChild(r),document.body.appendChild(o)}var d="5-7",c=this.params.align;"auto"==c&&(c=s.getAttribute("data-align")||s.getAttribute("data-position")||"center"),"center"==c?(d="5-7",(s.classList.contains(i)||s.hasAttribute(i))&&(d="7-5")):"left"==c?(d="1-4",(s.classList.contains(i)||s.hasAttribute(i))&&(d="4-1")):"right"==c?(d="2-3",(s.classList.contains(i)||s.hasAttribute(i))&&(d="3-2")):/^\d-\d$/.test(c)&&(d=c),new t(s,o,{position:d,edgeAdjust:!1});var u=o.getAttribute("data-align");if(u&&5==u.split("-").reduce((function(t,e){return 1*t+1*e}))){var h=s.getBoundingClientRect().width/2-r.getBoundingClientRect().width/2;r.style.left="1-4"==u||"4-1"==u?h+"px":"calc(100% - "+(r.getBoundingClientRect().width+h)+"px)"}return this.callback.show.call(this,s,o),this.element.tips=o,this.display=!0,this},a.prototype.hide=function(){var t=this.element.tips;return t&&(t.style.display="none",this.callback.hide.call(this,this.element.trigger,t)),this.display=!1,this};var n="."+e+", .jsTips,[is-tips]";return window.addEventListener("DOMContentLoaded",(function(){new a(n)})),document.addEventListener("mouseover",(function(t){var e=t.target;if(e&&e.closest&&(e=e.closest(n))&&(!e.data||!e.data.tips)){new a(e);var i=e.data.tips;i&&(e.classList.contains("jsTips")||e.hasAttribute("is-tips"))&&i.show()}})),a}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){var i,a;t.LightTip=(i={add:function(){return["ui-lightip"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-lightip"}},(a=function(t,e){var a={status:"normal",duration:3e3};"object"==typeof t&&(e=t,t=void 0),this.params=Object.assign({},a,e||{}),this.params.type&&(this.params.status=this.params.type);var n=document.createElement("a");n.href="javascript:",n.setAttribute("role","tooltip"),n.className=i+" ESC";var r=document.createElement("div");r.className=i.add("text"),n.appendChild(r),document.body.appendChild(n),this.element={container:n,content:r},this.timerRemove=null,this.events(),this.content=t,this.show()}).prototype.events=function(){this.element.container.addEventListener("click",function(){this.remove()}.bind(this))},a.prototype.tabIndex=function(){var t=this.element.container,e=this.lastActiveElement;if(1==this.display){var i=document.activeElement;t!==i&&(this.lastActiveElement=i),t.focus()}else e&&!e.matches("body")&&(e.focus({preventScroll:!0}),window.isKeyEvent||e.blur(),this.lastActiveElement=null);return this},a.prototype.position=function(){var t=[].slice.call(document.querySelectorAll("."+i+"[open]")).sort((function(t,e){return(t.tid||0)-(e.tid||0)})),e={},a=10;return t.forEach((function(t){var i=t.textContent;void 0===e[i]&&(e[i]=a,a=a+t.offsetHeight+10),t.style.top=e[i]+"px"})),this},a.prototype.show=function(){var t=this.element,e=t.container,i=t.content,a=this.params,n=this.content;if(n)return clearTimeout(this.timerRemove),e.setAttribute("data-status",a.status),a.type&&e.setAttribute("data-type",a.type),i.innerHTML=n,e.setAttribute("open","open"),this.display=!0,this.tabIndex(),this.zIndex(),this.timerRemove=setTimeout(function(){this.remove(),this.position()}.bind(this),a.duration),e.tid=this.timerRemove,this.position(),this},a.prototype.remove=function(){var t=this.element.container;t&&t.remove&&(clearTimeout(this.timerRemove),t.remove()),this.display=!1,this.tabIndex()},a.prototype.hide=function(){var t=this.element.container;t&&(clearTimeout(this.timerRemove),t.removeAttribute("open")),this.display=!1,this.tabIndex()},a.prototype.success=function(t,e){return"function"==typeof t&&(t=t()),"string"==typeof t?this.content=t:"number"==typeof t&&(e=t),this.params.status="success",e&&(this.params.duration=e),this.element.container&&this.element.container.setAttribute("aria-label","操作成功"),this.show(),this},a.prototype.error=function(t,e){return"function"==typeof t&&(t=t()),"string"==typeof t?this.content=t:"number"==typeof t&&(e=t),this.params.status="error",e&&(this.params.duration=e),this.element.container&&this.element.container.setAttribute("aria-label","操作失败"),this.show(),this},a.prototype.zIndex=function(){var t=this.element.container,e=window.getComputedStyle(t).zIndex,i=19;document.body.childNodes.forEach((function(e){if(1==e.nodeType){var a=window.getComputedStyle(e),n=1*a.zIndex;n&&t!=e&&"none"!=a.display&&(i=Math.max(n+1,i))}})),i!=e&&(t.style.zIndex=i)},a)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.ErrorTip=function(){var t=(this||self).Follow,e={add:function(){return["ui-tips"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-tips"}},i=function(t,i,a){var n={unique:!0,onShow:function(){},onHide:function(){}},r=Object.assign({},n,a||{}),s=i;if("function"==typeof s&&(s=s()),"string"!=typeof s)return this;var o,l,d,c=t,u=window.uniqueErrorTip;return 1==r.unique&&u?o=u.element.tips:0==r.unique&&c.data&&c.data.errorTip?o=c.data.errorTip.element.tips:((o=document.createElement("div")).className=e.add("x")+" "+e.add("error"),(l=document.createElement("span")).className=e.add("content"),(d=document.createElement("i")).className=e.add("arrow"),o.appendChild(l),o.appendChild(d),document.body.appendChild(o),document.addEventListener("keydown",function(t){16!=t.keyCode&&17!=t.keyCode&&(window.uniqueErrorTip||this).hide()}.bind(this)),document.addEventListener("mousedown",function(t){var e=document.activeElement,i=o.trigger,a=t.target;e&&i&&e==a&&e==i&&!i.getAttribute("data-focus")||(window.uniqueErrorTip||this).hide()}.bind(this)),window.addEventListener("resize",function(){(window.uniqueErrorTip||this).hide()}.bind(this))),1==r.unique&&(window.uniqueErrorTip=this),o.trigger=c,this.element={trigger:c,tips:o,content:l||o.querySelector("span"),arrow:d||o.querySelector("i")},this.callback={show:r.onShow,hide:r.onHide},this.params={unique:r.unique},this.content=s,c.data||(c.data={}),c.data.errorTip=this,this.show(),this};return i.prototype.show=function(){var e=this.element,i=e.tips,a=e.trigger,n=e.content;return n.innerHTML=this.content,i.style.display="",new t(a,i,{position:"5-7",edgeAdjust:!1}),a.setAttribute("aria-label","错误提示："+n.textContent||n.innerText),a.classList.add("error"),a.classList.add("valided"),this.display=!0,this.callback&&this.callback.show&&this.callback.show.call(this,a,i),this},i.prototype.hide=function(){var t=this.element.tips,e=this.element.trigger;return e.removeAttribute("aria-label"),"none"!=window.getComputedStyle(t).display&&(t.style.display="none",e.classList.remove("error"),this.callback&&this.callback.hide&&this.callback.hide.call(this,e,t),this.display=!1),this},i}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Loading=function(){var t="loading",e={add:function(){return["ui",t].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+t}};if(Object.defineProperty(HTMLElement.prototype,"loading",{configurable:!0,enumerable:!0,writeable:!0,get:function(){return!!(this.classList.contains(e)||this.classList.contains(t)||this.matches(e))},set:function(a){var n="remove";if(a&&(n="add",this.loading))return a;this.classList.contains(e.toString().replace(t,"button"))?this.classList[n](t):(this.classList[n](e),"function"==typeof i&&i(this)),this.setAttribute("aria-busy",!!a),a&&""==this.innerHTML.trim()?this.setAttribute("aria-label","正在加载中"):this.removeAttribute("aria-label")}}),void 0===window.getComputedStyle(document.head).transition){var i=function(t){var i;if(t)if(1==t.loading){if(!t.getAttribute("spin")){(i=document.createElement("i")).className=e.add("before"),t.insertAdjacentElement("afterbegin",i),t.setAttribute("spin",""),clearInterval(t.timerLoading);var a=16;t.timerLoading=setInterval((function(){var e=t.rotate||0;(e+=360/a)>360&&(e-=360),t.rotate=e,i.style.msTransform="rotate("+e+"deg)"}),1e3/a)}}else!1===t.loading&&(t.removeAttribute("spin"),(i=t.querySelector("."+e.add("before")))&&i.remove(),clearInterval(t.timerLoading))};window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(e).forEach(i)})),document.body.addEventListener("DOMNodeInserted",(function(t){t.target&&1==t.target.nodeType&&t.target.matches(e)&&i(t.target)}))}var a=function(t,e){var i={observer:"childList",size:2};if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;var a=t,n=Object.assign({},i,e||{});this.params=n,this.element={target:t},a.data||(a.data={}),a.data.loading=this,this.show()};return a.prototype.show=function(){var t=this.params,i=this.element.target;if("attributes"==t.observer)i.loading=!0,i.setAttribute("size",t.size),this.loading=!0,this.display=!0;else if("childList"==t.observer){"static"==window.getComputedStyle(i).position?(i.style&&i.style.position?this.position="static-inline":this.position="static-computed",i.style.position="relative"):this.position="",i.initHTML=i.innerHTML,i.innerHTML="<"+e+' size="'+t.size+' align="center"></'+e+">",this.loading=!0,this.display=!0}},a.prototype.hide=function(){var t=this.params,i=this.element.target;if("attributes"==t.observer)i.loading=!1,this.loading=!1,this.display=!1;else if("childList"==t.observer){var a=this.position;"static-inline"==a?i.style.position="static":"static-computed"==a&&(i.style.position=""),"string"==typeof i.initHTML?i.innerHTML=i.initHTML:i.querySelector(e)&&i.querySelector(e).remove(),this.loading=!1,this.display=!1}},a}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Range=function(){var t=(this||self).Tips,e="reverse",i="active",a="disabled",n={add:function(){return["ui","range"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-range"}},r={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(r={start:"touchstart",move:"touchmove",end:"touchend"});var s=function(t,i){var r={reverse:!1,tips:function(t){return t}};i=i||{};var s=Object.assign({},r,i),o=t;if("string"==typeof t&&(o=document.querySelector(t)),!o)return this;if("hidden"===window.getComputedStyle(o).visibility){if(o.data&&o.data.range)return o.data.range;var l=o.getAttribute("min")||0,d=o.getAttribute("max")||100,c=o.getAttribute("step")||1,u=document.createElement("div"),h=o.className;u.setAttribute("class",h),u.classList.add(n);var p=document.createElement("div");p.classList.add(n.add("track"));var f=document.createElement("a");f.setAttribute("href","javascript:"),f.setAttribute("aria-valuenow",o.value),f.setAttribute("aria-valuemax",d),f.setAttribute("aria-valuemin",l),f.setAttribute("role","slider"),f.setAttribute("draggable","false"),f.classList.add(n.add("thumb")),(s.reverse||o.classList.contains(e)||o.hasAttribute(e))&&(s.reverse=!0,f.classList.add(e));var m=o.getAttribute("data-tips");return m&&!i.tips&&(s.tips="null"==m?null:function(t){return m.replace("${value}",t)}),o.insertAdjacentElement("afterend",u),"100%"!=o.getAttribute("width")&&0==o.parentElement.classList.contains(n.add("input"))?u.style.width=window.getComputedStyle(o).width:u.style.display="block",u.style.height=window.getComputedStyle(o).height,o.style.display="none",p.appendChild(f),u.appendChild(p),this.number={min:+l,max:+d,step:+c},this.element={input:o,container:u,track:p,thumb:f},this.params=s,this.value(),this.event(),1==o[a]&&(this.disabled=!0),o.data||(o.data={}),o.data.range=this,this}};s.prototype.event=function(){var e=this.element,n=this.number,s=e.input,o=e.container,l=e.thumb,d=n.min,c=n.max,u=n.step;o.addEventListener("click",function(t){var e=t&&t.target;if(e&&e!==l&&!s.disabled){var i=t.clientX-s.offsetLeft-l.offsetLeft-parseInt(window.getComputedStyle(l).width)/2,a=1*s.value+(c-d)*i/parseInt(o.style.width||o.clientWidth);this.value(a)}}.bind(this));var h={},p=function(){if(this.params.tips){var e=this.params.tips.call(l,s.value);this.tips?(this.tips.content=e,this.tips.show()):this.tips=new t(l,{eventType:"null",content:e})}};(l.addEventListener(r.start,function(t){s.disabled||(t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),h.x=t.clientX,h.value=1*s.value,p.call(this),l.classList.add(i))}.bind(this)),"mousedown"==r.start&&(l.addEventListener("mouseenter",function(){0==l.classList.contains(i)&&p.call(this)}.bind(this)),l.addEventListener("mouseout",function(){0==l.classList.contains(i)&&this.tips&&this.tips.hide()}.bind(this))),document.addEventListener(r.move,function(t){if("number"==typeof h.x&&l.classList.contains(i)){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var e=t.clientX-h.x,a=h.value+(c-d)*e/parseInt(o.style.width||o.clientWidth);this.value(a),this.tips&&(this.tips.content=this.params.tips.call(l,s.value),this.tips.show())}}.bind(this)),document.addEventListener(r.end,function(){l.classList.contains(i)&&(h.x=null,h.value=null,this.tips&&this.tips.hide(),l.classList.remove(i))}.bind(this)),l.addEventListener("keydown",function(t){if(!s.disabled){var e=1*s.value;37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),37==t.keyCode?e=Math.max(d,e-u):39==t.keyCode&&(e=Math.min(c,e+1*u)),this.value(e))}}.bind(this)),"block"==o.style.display&&window.addEventListener("resize",function(){this.position()}.bind(this)),window.MutationObserver)?new MutationObserver(function(t){t.forEach(function(t){"attributes"==t.type&&(this[a]=s[a])}.bind(this))}.bind(this)).observe(s,{attributes:!0,attributeFilter:[a]}):s.addEventListener("DOMAttrModified",function(t){t.attrName==a&&(this[a]=s[a])}.bind(this))},s.prototype.value=function(t){var e=this.element.input,i=e.value,a=this.number,n=a.max,r=a.min,s=a.step;return t||0===t||(i=t,t=e.value||Math.floor(r/2+n/2)),t=t>n||n-t<s/2?n:""===t||t<r||t-r<s/2?r:r+Math.round((t-r)/s)*s,e.value=t,this.position(),t!==i&&e.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this},s.prototype.position=function(){var t=this.element.input,e=this.element.container,i=this.number,a=t.value,n=i.max,r=i.min;return this.element.track.style.borderLeftWidth=parseInt(e.style.width||e.clientWidth)*(a-r)/(n-r)+"px",this.element.thumb.setAttribute("aria-valuenow",a),this},Object.defineProperty(s.prototype,a,{configurable:!0,enumerable:!0,writeable:!0,get:function(){return this.element.input[a]},set:function(t){var e=this.element,i=e.container,r=e.thumb;if(t)return i.classList.add(n.add(a)),void r.removeAttribute("href");i.classList.remove(n.add(a)),r.setAttribute("href","javascript:")}});var o=function(){if(!1!==window.autoInit){var t='input[type="range"]',e=document.createElement("input");e.setAttribute("type","range"),"range"!=e.getAttribute("type")&&(t="input."+n.add("input")+",."+n.add("input")+">input");var i=function(e,i){e&&(e.forEach||(e.matches&&e.matches(t)?e=[e]:e.querySelector&&(e=e.querySelectorAll(t))),e.forEach&&e.forEach((function(e){if(e.matches(t))if("remove"==i&&e.data&&e.data.range){var a=e.data.range.element;a.thumb&&a.thumb.data&&a.thumb.data.tips&&a.thumb.data.tips.element.tips.remove(),a.container.remove()}else e.data&&e.data.range||new s(e)})))};if(!1!==window.watching)if(i(document.querySelectorAll(t)),window.MutationObserver)new MutationObserver((function(t){t.forEach((function(t){var e=t.addedNodes,a=t.removedNodes;e.length&&e.forEach((function(t){i(t,"add")})),a.length&&a.forEach((function(e){i.call(t,e,"remove")}))}))})).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",(function(t){i(t.target,"add")})),document.body.addEventListener("DOMNodeRemoved",(function(t){i(t.target,"remove")}))}};"loading"!=document.readyState?o():window.addEventListener("DOMContentLoaded",o);return s}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Color=function(){var t=(this||self).Drop,e={add:function(){return["ui-color"].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-color"}},i={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(i={start:"touchstart",move:"touchmove",end:"touchend"});var a="active",n="background-color",r="#000000",s=function(t,e,i){var a,n,r;if(0==e)a=n=r=i;else{var s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},o=i<.5?i*(1+e):i+e-i*e,l=2*i-o;a=s(l,o,t+1/3),n=s(l,o,t),r=s(l,o,t-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*r)].map((function(t){return 1==(t=t.toString(16)).length?"0"+t:t})).join("")},o=function(t){var e,i,a=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,r=parseInt(t.slice(4,6),16)/255,s=Math.max(a,n,r),o=Math.min(a,n,r),l=(s+o)/2;if(s==o)e=i=0;else{var d=s-o;switch(i=l>.5?d/(2-s-o):d/(s+o),s){case a:e=(n-r)/d+(n<r?6:0);break;case n:e=(r-a)/d+2;break;case r:e=(a-n)/d+4}e/=6}return[e,i,l]},l=function(t){if(!t)return r;var e=[];if(t=t.replace("#","").toLowerCase(),/^[0-9A-F]{1,6}$/i.test(t))return"#"+t.repeat(Math.ceil(6/t.length)).slice(0,6);var i=function(t){return("0"+parseInt(t,10).toString(16)).slice(-2)};return 4==(e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)/i)||[]).length?"#"+i(e[1])+i(e[2])+i(e[3]):r},d=function(t,i){var a={offsets:{x:0,y:0},edgeAdjust:!1,position:"7-5",onShow:function(){},onHide:function(){}},n=Object.assign({},a,i||{});if("string"==typeof t&&(t=document.querySelector(t)),t&&"0"===window.getComputedStyle(t).opacity){var r=t;if(r.data&&r.data.color)return r.data.color;var s=r.id;s||(s="lulu_"+(Math.random()+"").split(".")[1],r.id=s),r.setAttribute("readonly","readonly"),r.addEventListener("click",(function(t){t.preventDefault()})),"color"==r.type&&window.msCredentials&&r.addEventListener("focus",(function(){this.blur()}));var o=document.createElement("label");o.setAttribute("for",s),o.classList.add(e.add("track"));var l=document.createElement("span");l.classList.add(e.add("thumb")),o.appendChild(l),r.insertAdjacentElement("beforebegin",o);var d=document.createElement("div");d.classList.add(e.add("container")),this.element={input:r,container:d,track:o,thumb:l},this.callback={show:n.onShow,hide:n.onHide},this.params={offsets:n.offsets,edgeAdjust:n.edgeAdjust,position:n.position};var c=["0","3","6","9","c","f"],u=c.concat("eb4646","1cad70","2a80eb","f59b00");return this.color={basic:c,fixed:u},this.initEvents(),this.value(r.value),r.data&&(r.data={}),r.data.color=this,this}};d.prototype.initEvents=function(){var e=this.element,i=e.input,a=e.track,n=e.container,r=this.params;this.drop=new t(i,n,{eventType:"click",offsets:r.offsets,edgeAdjust:r.edgeAdjust,position:r.position,onShow:function(){if(this.show(),0==r.edgeAdjust){var t=n.getBoundingClientRect();t.left<3?n.style.left="3px":t.right-screen.width>3&&(n.style.left=screen.width-t.width-3+"px")}}.bind(this),onHide:function(){this.hide(),n.style.marginLeft=0}.bind(this)}),i.addEventListener("focus",(function(){window.isKeyEvent&&a.classList.add("ui-outline")})),i.addEventListener("blur",(function(){a.classList.remove("ui-outline")}))},d.prototype.events=function(){var t=this.element,e=t.container,a=t.circle,r=t.fill,s=t.arrow,o=t.field;e.addEventListener("click",function(e){var i=e.target;if(i.matches&&i.matches("a, button")){var l="",d=i.className;if(/cancel/.test(d))this.hide();else if(/ensure/.test(d))(l=o.value)&&this.value("#"+l),this.hide();else if(/lump/.test(d))l=i.getAttribute("data-color"),o.value=l,this.match();else if(/switch/.test(d))"更多"==i.innerHTML?(t.more.style.display="block",t.basic.style.display="none",i.innerHTML="基本"):(t.more.style.display="none",t.basic.style.display="block",i.innerHTML="更多"),this.match();else if(/cover/.test(d)){var c,u,h=i.getBoundingClientRect(),p=e.pageX-h.left,f=e.pageY-window.pageYOffset-h.top,m=i.clientWidth,v=i.clientHeight;if(a&&r&&s){if(1==/white/.test(d)){c=p/m,u=1-f/v,a.style.left=p+"px",a.style.top=f+"px";var g="hsl("+[360*c,100*u+"%","50%"].join()+")";a.style[n]=g}else s.style.top=f+"px";o.value=this.getValueByStyle().replace("#",""),this.match()}}}}.bind(this)),o.addEventListener("input",function(){var t=this.element.field.value;/^[0-9A-F]{6}$/i.test(t)?this.match():/^[0-9A-F]{3}$/i.test(t)&&this.match(l("#"+t).replace("#",""))}.bind(this)),o.addEventListener("keyup",function(t){if(13==t.keyCode){var e=o.value,i=e;e&&((e=l("#"+e))!=i&&(o.value=e),this.value(e)),this.hide()}}.bind(this));var d={},c={};return s.addEventListener(i.start,(function(t){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),d.pageY=t.pageY,d.top=parseFloat(window.getComputedStyle(s).top)})),r.addEventListener(i.start,function(t){t.preventDefault();var e=t.target.getBoundingClientRect(),i=t.pageY-window.pageYOffset-e.top;s.style.top=i+"px",t.touches&&t.touches.length&&(t=t.touches[0]),d.pageY=t.pageY,d.top=parseFloat(window.getComputedStyle(s).top),o.value=this.getValueByStyle().replace("#",""),this.match(!1)}.bind(this)),a.parentElement.querySelectorAll("a").forEach(function(t){t.addEventListener(i.start,function(t){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),c.pageY=t.pageY,c.pageX=t.pageX,a.style.left=t.offsetX+"px",a.style.top=t.offsetY+"px",c.top=parseFloat(t.offsetY),c.left=parseFloat(t.offsetX);var e={top:a.parentElement.clientHeight,left:a.parentElement.clientWidth},i="hsl("+[360*(t.offsetX/e.left),100*(1-t.offsetY/e.top)+"%","50%"].join()+")";a.style[n]=i,o.value=this.getValueByStyle().replace("#",""),this.match(!1)}.bind(this))}.bind(this)),a.addEventListener(i.start,(function(t){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]),c.pageY=t.pageY,c.pageX=t.pageX;var e=window.getComputedStyle(a);c.top=parseFloat(e.top),c.left=parseFloat(e.left)})),document.addEventListener(i.move,function(t){if("number"==typeof d.top){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var e=d.top+(t.pageY-d.pageY),i=s.parentElement.clientHeight;e<0?e=0:e>i&&(e=i),s.style.top=e+"px",o.value=this.getValueByStyle().replace("#",""),this.match(!1)}else if("number"==typeof c.top){t.preventDefault(),t.touches&&t.touches.length&&(t=t.touches[0]);var r={top:c.top+(t.pageY-c.pageY),left:c.left+(t.pageX-c.pageX)},l={top:a.parentElement.clientHeight,left:a.parentElement.clientWidth};r.left<0?r.left=0:r.left>l.left&&(r.left=l.left),r.top<0?r.top=0:r.top>l.top&&(r.top=l.top);var u=r.left/l.left,h=1-r.top/l.top;a.style.left=r.left+"px",a.style.top=r.top+"px";var p="hsl("+[360*u,100*h+"%","50%"].join()+")";a.style[n]=p,o.value=this.getValueByStyle().replace("#",""),this.match(!1)}}.bind(this),{passive:!1}),document.addEventListener(i.end,(function(){d.top=null,c.top=null})),r.parentElement.querySelectorAll("a").forEach(function(t){t.addEventListener("keydown",function(t){if(38==t.keyCode||40==t.keyCode){t.preventDefault();var e=parseFloat(window.getComputedStyle(s).top),i=r.clientHeight;38==t.keyCode?--e<0&&(e=0):++e>i&&(e=i);var a=s.getAttribute("aria-label");s.style.top=e+"px",s.setAttribute("aria-label",a.replace(/\d+/,Math.round(100*e/i))),o.value=this.getValueByStyle().replace("#",""),this.match(!1)}}.bind(this))}.bind(this)),a.parentElement.querySelectorAll("a").forEach(function(t){t.addEventListener("keydown",function(e){if(e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var i=window.getComputedStyle(a),r=parseFloat(i.top),s=parseFloat(i.left),l=t.clientHeight,d=t.clientWidth;38==e.keyCode?--r<0&&(r=0):40==e.keyCode?++r>l&&(r=l):37==e.keyCode?--s<0&&(s=0):39==e.keyCode&&++s>d&&(s=d);var c=s/d,u=1-r/l;a.style.left=s+"px",a.style.top=r+"px";var h="hsl("+[360*c,100*u+"%","50%"].join()+")";a.style[n]=h,o.value=this.getValueByStyle().replace("#",""),this.match()}}.bind(this))}.bind(this)),this},d.prototype.create=function(){var t,i,a,s,o,d=this.element.container,c=this.element.input,u='<button class="'+e.add("switch")+'" role="button">更多</button>',h='<div class="'+e.add("current")+'">            <i class="'+e.add("current","square")+' colorCurrent"></i>            #<input class="'+e.add("current","input")+'">        </div>',p=this.color.basic,f=this.color.fixed,m='<div class="'+e.add("body")+'">'+(s='<div class="'+e.add("basic")+' colorBasicX" role="listbox">',o=(localStorage.commonColors||"").split(","),(s=(s=s+'<aside class="'+e.add("basic","l")+'">'+f.concat(o[0]||"0ff",o[1]||"800180").map((function(t){var i=l(t).replace("#","");return'<a href="javascript:" class="'+e.add("lump")+'" data-color="'+i+'" aria-label="'+i+'" style="'+n+":#"+i+'" role="option"></a>'})).join("")+"</aside>")+'<div class="'+e.add("basic","r")+'">'+(a="",p.forEach((function(t){a+='<div class="'+e.add("lump","group")+'">',p.forEach((function(i){p.forEach((function(r){var s=t+t+i+i+r+r;a=a+'<a href="javascript:" class="'+e.add("lump")+'" data-color="'+s+'" style="'+n+":#"+s+'" aria-label="'+s+'" role="option"></a>'}))})),a+="</div>"})),a+"</div>"))+"</div>")+(t="lg-"+c.id,i="lg2-"+c.id,'<div class="'+e.add("more")+' colorMoreX">'+'<div class="'+e.add("more","l")+'">                <a href="javascript:" class="'+e.add("cover","white")+'" aria-label="色域背景块" role="region"></a><div class="'+e.add("circle")+' colorCircle"></div>                <svg>                    <defs>                        <linearGradient x1="0" y1="0" x2="1" y2="0" id="'+t+'">                            <stop offset="0%" stop-color="#ff0000"></stop>                            <stop offset="16.66%" stop-color="#ffff00"></stop>                            <stop offset="33.33%" stop-color="#00ff00"></stop>                            <stop offset="50%" stop-color="#00ffff"></stop>                            <stop offset="66.66%" stop-color="#0000ff"></stop>                            <stop offset="83.33%" stop-color="#ff00ff"></stop>                            <stop offset="100%" stop-color="#ff0000"></stop>                        </linearGradient>                    </defs>                    <rect x="0" y="0" width="180" height="100" fill="url(#'+t+')"></rect>                </svg></div><div class="'+e.add("more","r")+'">                    <div class="'+e.add("more","fill")+' colorFill">                        <a href="javascript:" class="'+e.add("more","cover")+'" aria-label="明度控制背景条" role="region"></a>                        <svg>                        <defs>                            <linearGradient x1="0" y1="0" x2="0" y2="1" id="'+i+'">                                <stop offset="0%" stop-color="#ffffff"></stop>                                <stop offset="50%" stop-color="rgba(255,255,255,0)"></stop>                                <stop offset="50%" stop-color="rgba(0,0,0,0)"></stop>                                <stop offset="100%" stop-color="'+r+'"></stop>                            </linearGradient>                        </defs>                        <rect x="0" y="0" width="16" height="100" fill="url(#'+i+')"></rect>                    </svg>                    </div>                    <a href="javascript:" class="'+e.add("more","arrow")+' colorArrow" role="slider" aria-label="明度控制按钮：100%"></a>                </div>'+"</div></div>"),v='<div class="'+e.add("footer")+'">            <button class="'+e.add("button","cancel")+'">取消</button><button class="'+e.add("button","ensure")+'">确定</button>        </div>';return d.innerHTML=u+h+m+v,Object.assign(this.element,{field:d.querySelector("input"),basic:d.querySelector(".colorBasicX"),more:d.querySelector(".colorMoreX"),circle:d.querySelector(".colorCircle"),fill:d.querySelector(".colorFill"),arrow:d.querySelector(".colorArrow"),current:d.querySelector(".colorCurrent")}),this.events(),this},d.prototype.value=function(t){var e=t,i=this.element.input,a=this.element.thumb,s=this.element.field,o=i.value;if("string"!=typeof e)return o||(o=r,i.value=o,a.style[n]=o),o;/^[a-z]{3,}$/.test(e)&&(document.head.style.backgroundColor=e,e=window.getComputedStyle(document.head).backgroundColor,document.head.style.backgroundColor=""),e=l(e),i.value=e,s&&(s.value=e.replace("#","")),a.style[n]=e;var d=(localStorage.commonColors||"").split(",");if(0==this.color.fixed.some((function(t){return l(t)==e}))){(d=d.filter((function(t){return t&&t!=e.replace("#","")}))).unshift(e.replace("#","")),localStorage.commonColors=d.join();var c=this.element.basic;if(c){var u=c.querySelectorAll("aside a"),h=u[u.length-2],p=u[u.length-1];h.setAttribute("data-color",d[0]),h.setAttribute("aria-label",d[0]),h.style[n]=e;var f=d[1]||"0ff";p.setAttribute("data-color",f),p.setAttribute("aria-label",f),p.style[n]="#"+f}}return this.match(),o&&e!=o&&i.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this},Object.defineProperty(d.prototype,"getValueByStyle",{value:function(){var t,e,i,a=this.element.circle,n=this.element.arrow;return a.length*n.length==0?r:(t=a.style.left?parseFloat(window.getComputedStyle(a).left)/a.parentElement.clientWidth:0,e=a.style.top?1-parseFloat(window.getComputedStyle(a).top)/a.parentElement.clientHeight:1,i=n.style.top?1-parseFloat(window.getComputedStyle(n).top)/n.parentElement.clientHeight:0,"#"+s(t,e,i))}}),d.prototype.match=function(t){if(1!=this.display)return this;var e=this.element,i=e.container,r=e.current,s=e.more,d=e.circle,c=e.fill,u=e.arrow,h=e.field,p=!0;!1===t&&(p=t);var f=t||h.value;if(""==f&&(f=l(window.getComputedStyle(r)[n]).replace("#",""),h.value=f),f=f.replace("#",""),r.style[n]="#"+f,"none"==window.getComputedStyle(s).display){var m=i.querySelector("."+a);m&&m.classList.remove(a);var v=i.querySelector('a[data-color="'+f.toUpperCase()+'"]');v&&v.classList.add(a)}else{var g=o(f),y=g[0],b=g[1],w=g[2],E="hsl("+[360*y,100*b+"%","50%"].join()+")";"000000"!=f&&"ffffff"!=f&&(d.style[n]=E,c.style[n]=E),1==p&&(0!=w&&1!=w&&(d.style.left=d.parentElement.clientWidth*y+"px",d.style.top=d.parentElement.clientHeight*(1-b)+"px"),u.style.top=u.parentElement.clientHeight*(1-w)+"px")}return this},d.prototype.show=function(){var t=this.element.container;""==t.innerHTML.trim()&&this.create(),0==this.drop.display&&this.drop.show(),this.display=this.drop.display;var e=this.element.current;return e.getAttribute("style")||(e.style[n]=this.element.input.value),this.match(),"function"==typeof this.callback.show&&this.callback.show.call(this,this.element.track,t),this},d.prototype.hide=function(){return 1==this.drop.display&&this.drop.hide(),this.display=this.drop.display,this.element.input.focus(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,this.element.trigger,this.element.container),this};var c=function(){if(!1!==window.autoInit){var t='input[type="color"]',e=function(e,i){e&&(e.forEach||(e.matches&&e.matches(t)?e=[e]:e.querySelector&&(e=e.querySelectorAll(t))),e.length&&e.forEach&&e.forEach((function(e){e.matches&&e.matches(t)&&("remove"==i&&e.data&&e.data.color?(e.data.color.element.track.remove(),e.data.color.element.container.remove()):e.data&&e.data.color||new d(e))})))};if(e(document.querySelectorAll(t)),!1!==window.watching)if(window.MutationObserver)new MutationObserver((function(t){t.forEach((function(t){var i=t.addedNodes,a=t.removedNodes;i.length&&i.forEach((function(t){e(t,"add")})),a.length&&a.forEach((function(i){e.call(t,i,"remove")}))}))})).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",(function(t){e(t.target,"add")})),document.body.addEventListener("DOMNodeRemoved",(function(t){e(t.target,"remove")}))}};"loading"!=document.readyState?c():window.addEventListener("DOMContentLoaded",c);return d.funHexToHsl=o,d.funHslToHex=s,d.funRgbToHex=l,d}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){var i,a,n,r,s;t.Dialog=(i="dialog",a={add:function(){return["ui",i].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+i}},n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M116.152,99.999l36.482-36.486c2.881-2.881,2.881-7.54,0-10.42 l-5.215-5.215c-2.871-2.881-7.539-2.881-10.42,0l-36.484,36.484L64.031,47.877c-2.881-2.881-7.549-2.881-10.43,0l-5.205,5.215 c-2.881,2.881-2.881,7.54,0,10.42l36.482,36.486l-36.482,36.482c-2.881,2.881-2.881,7.549,0,10.43l5.205,5.215 c2.881,2.871,7.549,2.871,10.43,0l36.484-36.488L137,152.126c2.881,2.871,7.549,2.871,10.42,0l5.215-5.215 c2.881-2.881,2.881-7.549,0-10.43L116.152,99.999z"/></svg>',r=!1,(s=function(t){var e={title:"",content:"",width:"auto",height:"auto",buttons:[],onShow:function(){},onHide:function(){},onRemove:function(){}},s=Object.assign({},e,t||{}),o=document.createElement(i);o.classList.add(a.add("container")),o.setAttribute("tabindex","-1"),0==(r="open"in o)&&o.setAttribute("role",i);var l=document.createElement("div");l.classList.add(a),/^\d+$/.test(s.width)?l.style.width=s.width+"px":l.style.width=s.width,/^\d+$/.test(s.height)?l.style.height=s.height+"px":"stretch"==s.height?l.classList.add(a.add(s.height)):"auto"!=s.height&&(l.style.height=s.height);var d=document.createElement("h4");d.classList.add(a.add("title")),d.innerHTML=s.title;var c=("lulu_"+Math.random()).replace("0.",""),u=document.createElement("button");u.classList.add(a.add("close")),u.classList.add("ESC"),u.setAttribute("aria-label","关闭"),u.id=c,u.setAttribute("data-target",c),u.innerHTML=n;var h=s.content||"";"function"==typeof h&&(h=h()),this.closeMode="string"==typeof h?"remove":"hide";var p=document.createElement("div");p.classList.add(a.add("body")),"remove"==this.closeMode?p.innerHTML=h:p.appendChild(h);var f=document.createElement("div");f.classList.add(a.add("footer")),l.appendChild(u),l.appendChild(d),l.appendChild(p),l.appendChild(f),o.appendChild(l);var m=document.querySelectorAll(i);return m.length?m[0].insertAdjacentElement("beforebegin",o):(s.container||document.body).appendChild(o),this.element={container:o,dialog:l,close:u,title:d,body:p,footer:f},this.params={title:s.title,width:s.width,buttons:s.buttons,content:h},this.callback={show:s.onShow,hide:s.onHide,remove:s.onRemove},this.display=!1,this.button(),this.events(),h&&this.show(),this}).prototype.button=function(){var t=this.params,e=this.element;for(var n in e.footer.innerHTML="",e)/^button/.test(n)&&delete e[n];t.buttons.forEach((function(t,n){var r=(t=t||{}).type,s=t.value;("remind"==r||!r&&0==n)&&(r="primary"),s||(s=["确定","取消"][n]);var o=document.createElement("button");t.for&&(o=document.createElement("label")).setAttribute("for",t.for),t.className&&(o.className=t.className),o.classList.add(String(a).replace(i,"button")),r&&o.setAttribute("data-type",r),o.innerHTML=s,e.footer.appendChild(o),e["button"+n]=o})),t.buttons.forEach(function(t,i){var a=e["button"+i];if(a&&!t.for){var n=t.events||{click:function(){this[this.closeMode]()}.bind(this)};for(var r in"function"==typeof n&&(n={click:n}),n)a.addEventListener(r,function(t){t.dialog=this,n[r](t)}.bind(this));a.addEventListener("focus",(function(){window.isKeyEvent?this.style.outline="":this.style.outline="none"}))}}.bind(this))},s.prototype.events=function(){var t=this.element,e=t.container;e.addEventListener("animationend",(function(t){t.target.tagName.toLowerCase()==i&&e.classList.remove(a.add("animation"))})),1==r&&e.addEventListener("close",function(){this.scrollbar(),this.display=!1,this.tabindex()}.bind(this));var n=t.close;return n&&n.addEventListener("click",function(){var t=document.activeElement,e=t.getAttribute("data-target"),i=null;e&&(i=document.getElementById(e)),window.isKeyEvent&&i&&t!=n&&document.querySelector('a[data-target="'+e+'"],input[data-target="'+e+'"],button[data-target="'+e+'"]')&&i.clientWidth>0||this[this.closeMode]()}.bind(this)),this},s.prototype.open=function(t,e){var i=this.element,n={title:"",buttons:[]},r=t||"";return"function"==typeof r&&(r=r()),this.closeMode="string"==typeof r?"remove":"hide",this.params=Object.assign({},n,e||{},{content:r}),i.container.className=a.add("container"),"remove"==this.closeMode?i.body.innerHTML=r:i.body.appendChild(r),i.title.innerHTML=this.params.title,this.button(),this.show(),this},s.prototype.loading=function(){var t=this.element;return t.container.className=[a.add("container"),a.add("loading")].join(" "),t.body.innerHTML='<ui-loading rows="10" size="3"></ui-loading>',this.show(),this},s.prototype.alert=function(t,e){var i=this.element;if(t){var n=t,r={title:"",type:"remind",buttons:[{}]},s=Object.assign({},r,e||{});return"error"!=s.type&&"fail"!=s.type||(s.type="danger"),"primary"==s.type&&(s.type="remind"),s.buttons.length&&!s.buttons[0].type&&(s.buttons[0].type=s.type,0==/^remind|success|warning|danger$/.test(s.type)&&(s.buttons[0].type=r.type)),i.container.className=[a.add("container"),a.add("container","alert")].join(" "),i.dialog.style.width="auto",i.title.innerHTML=s.title,0==/<[\w\W]+>/.test(n)&&(n="<p>"+n+"</p>"),i.body.innerHTML='<div class="'+a.add(s.type)+" "+a.add("alert")+'">'+n+"</div>",this.params={width:"auto",title:s.title,buttons:s.buttons,content:n},this.button(),this.show(),i.button0&&i.button0.focus(),this}},s.prototype.confirm=function(t,e){var i=this.element;if(t){var n=t,r={title:"",type:"danger",buttons:[{},{}]},s=Object.assign({},r,e||{});return"error"!=s.type&&"fail"!=s.type||(s.type="danger"),"primary"==s.type&&(s.type="remind"),s.buttons.length&&!s.buttons[0].type&&(s.buttons[0].type=s.type,0==/^remind|success|warning|danger$/.test(s.type)&&(s.buttons[0].type=r.type)),i.container.className=[a.add("container"),a.add("container","confirm")].join(" "),i.dialog.style.width="auto",i.title.innerHTML=s.title,0==/<[\w\W]+>/.test(n)&&(n="<p>"+n+"</p>"),i.body.innerHTML='<div class="'+a.add(s.type)+" "+a.add("confirm")+'">'+n+"</div>",this.params={width:"auto",title:s.title,buttons:s.buttons,content:n},this.button(),this.show(),i.button0&&i.button0.focus(),this}},s.prototype.scrollbar=function(){var t=document.querySelectorAll(i);if([].slice.call(t).some((function(t){return"none"!=window.getComputedStyle(t).display}))){var e=17;1!=this.display&&(e=window.innerWidth-document.documentElement.clientWidth),document.documentElement.style.overflow="hidden",1!=this.display&&(document.body.style.borderRight=e+"px solid transparent")}else document.documentElement.style.overflow="",document.body.style.borderRight="";return this},s.prototype.tabindex=function(){var t=this.element.dialog,e=this.lastActiveElement;if(1==this.display){var i=document.activeElement;t!=i&&(this.lastActiveElement=i),t&&t.focus()}else e&&"body"!=e.tagName.toLowerCase()&&(e.focus(),e.blur(),this.lastActiveElement=null);return this},s.prototype.zIndex=function(){var t=this.element.container,e=window.getComputedStyle(t).zIndex,i=19;document.body.childNodes.forEach((function(e){if(1==e.nodeType){var a=window.getComputedStyle(e),n=1*a.zIndex;n&&t!=e&&"none"!=a.display&&(i=Math.max(n+1,i))}})),i!=e&&(t.style.zIndex=i)},s.prototype.show=function(){var t=this.element.container;return r?t.open||t.show():(t.setAttribute("open","open"),this.zIndex()),1!=this.display&&t.classList.add(a.add("animation")),this.scrollbar(),this.display=!0,this.tabindex(),"function"==typeof this.callback.show&&this.callback.show.call(this,t),this},s.prototype.hide=function(){var t=this.element.container;return r?t.close():t.removeAttribute("open"),this.scrollbar(),this.display=!1,this.tabindex(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,t),this},s.prototype.remove=function(){var t=this.element.container;return t.remove(),this.scrollbar(),this.display=!1,this.tabindex(),"function"==typeof this.callback.remove&&this.callback.remove.call(this,t),this},s)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Datalist=function(){var t=(this||self).Follow,e="datalist",i="selected",a="disabled",n="active",r="reverse",s={add:function(){return["ui",e].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+e}},o={start:"mousedown",move:"mousemove",end:"mouseup"};"ontouchstart"in document&&(o={start:"touchstart",move:"touchmove",end:"touchend"});var l=function(t){return"string"==typeof t?t.replace(/<\/?[^>]*>/g,""):""},d=function(t){return"string"==typeof t?t.replace(/<|&|>/g,(function(t){return{"<":"&lt;",">":"&gt;","&":"&amp;"}[t]})):""},c=function(t){return"string"==typeof t?t.replace(/&lt;|&gt;|&amp;/g,(function(t){return{"&lt;":"<","&gt;":">","&amp;":"&"}[t]})):""},u=function(t,i){if("string"==typeof t&&(t=document.querySelector(t)),t)if(1==t.nodeType){var a={data:"auto",max:8,width:"auto",container:document.body,placeholder:"auto",filter:function(t,e){var i=[];return t.forEach&&t.forEach((function(t){""!=e&&0!=t.value.indexOf(e)||i.push(t)})),i},onSelect:function(){},onShow:function(){},onHide:function(){}};i=i||{};var n=t;if(n.data&&n.data.datalist)return n.data.datalis;var r=n.getAttribute("results"),s=Number(r);r&&(i.max=s);var o=Object.assign({},a,i),l=o.container;"string"==l&&(l=document.querySelector(l)),this.element={input:n,trigger:n,form:n.closest("form"),container:l},this.callback={filter:o.filter,select:o.onSelect,show:o.onShow,hide:o.onHide},this.params={width:o.width,max:o.max,data:o.data,index:-1};var d=n.getAttribute("placeholder");d&&(this.params.placeholder=d),this.display=!1,"auto"==o.placeholder&&(this.placeholder=!0);var c=n.name;if("auto"==o.data){var u=n.getAttribute("list"),h=n.getAttribute("autocomplete");if(u){var p=document.getElementById(u);if(!p)return;this.element.datalist=p,n.removeAttribute("list"),this.callback.data=function(){return[].slice.call(p.querySelectorAll("option")).map((function(t){var e={};return[].slice.call(t.attributes).forEach((function(t){e[t.name]=t.value})),e.value=e.value||"",e.label=e.label||"",e}))}}else c&&"off"!=h?(this.callback.data=function(){var t=[],i=localStorage[e+"-"+c];return i&&i.split(",").forEach((function(e){e&&t.push({label:"",value:e})})),t},this.params.twice=!0,this.placeholder=!1,this.element.form&&this.element.form.addEventListener("submit",function(){this.store()}.bind(this))):this.callback.data=function(){return[]}}else if(o.data instanceof Array)this.callback.data=function(){return o.data};else if("function"==typeof o.data)this.callback.data=o.data;else if("object"==typeof o.data&&o.data.url){i.filter||(this.callback.filter=function(t){return t});var f=null,m=this;this.callback.data=function(){clearTimeout(f),c||(c="k");var t=n.value.trim();if(""==t)return m.data=[],[];var e=new URLSearchParams(o.data.data);e.append(c,t);var i=o.data.url.split("#")[0];i=i.split("?").length>1?i+"&"+e.toString():i+"?"+e.toString(),f=setTimeout((function(){var t=new XMLHttpRequest;t.open("GET",i),t.onload=function(){var e={};try{(e=JSON.parse(t.responseText))&&e.data?(m.refresh(m.callback.filter.call(m,e.data)),o.data.success&&o.data.success(e)):o.data.error&&o.data.error(e)}catch(t){o.data.error&&o.data.error(t)}},t.onloadend=function(){n.removeAttribute("aria-busy")},t.onerror=function(t){o.data.error&&o.data.error(t)},t.send(),n.setAttribute("aria-busy","true")}),200)},this.placeholder=!1}n.form?n.setAttribute("autocomplete","off"):n.setAttribute("autocomplete","new-password"),this.events(),n.data||(n.data={}),n.data.datalist=this}else window.console.error("element参数不合法");else window.console.error("Datalist实例方法参数缺失")};u.prototype.store=function(){var t=this.element.input,i=this.value(),a=t.name;if(i&&a){var n=(localStorage[e+"-"+a]||"").split(","),r=n.indexOf(i);if(-1==r)n.unshift(i);else if(0!=r){var s=n.splice(r,1);n=s.concat(n)}localStorage[e+"-"+a]=n.join()}return this},u.prototype.removeStore=function(t){var i=this.element.input.name,a=t||this.value();if(a&&i)if(!0===a)localStorage.removeItem(e+"-"+i);else if("string"==typeof a){var n=(localStorage[e+"-"+i]||"").split(","),r=n.indexOf(a);-1!=r&&(n.splice(r,1),localStorage[e+"-"+i]=n.join())}return this},u.prototype.refresh=function(t){var n=this.element.target,r=this.element.input;n||(this.create(),n=this.element.target);var o=this.value(),d=t,c=this.params.index;if(void 0===d){if("function"!=typeof this.callback.data)return this;if((d=this.callback.filter.call(this,this.callback.data(),o))instanceof Array==0)return this}"number"==typeof this.params.max&&(d=d.slice(0,this.params.max)),this.data=d;var u="";if(d&&d.length){var h=r.getAttribute("placeholder"),p=this.params.placeholder;d.forEach((function(t,e){var n=l(t.value||"").trim(),r=l(t.label||"").trim(),d="";(o&&n==o||!o&&n==h&&n!=p)&&c==e&&(d=" "+i),(t[a]||"string"==typeof t[a])&&(d=" "+a),u=t.label?u+'<li class="'+s.add("option")+d+'" data-value="'+n+'" label="'+r+'" data-index="'+e+'"><label class="'+s.add("label")+'">'+t.label+'</label><span class="'+s.add("value")+'">'+t.value+"</span></li>":u+'<li class="'+s.add("option")+d+'" data-value="'+n+'" data-index="'+e+'"><span class="'+s.add("value")+'">'+t.value+"</span></li>"}))}""!=u&&(u='<ul class="'+s.add(e)+'">'+u+"</ul>"),n.innerHTML=u;var f=n.querySelector("."+i);if(1==this.display&&f){var m=f.offsetTop-(n.lastScrollTop||0);m<0||m>=f.parentElement.clientHeight?(f.parentElement.scrollTop=f.offsetTop,n.lastScrollTop=f.offsetTop):f.parentElement.scrollTop=n.lastScrollTop||0}u?0==this.display&&this.show():1==this.display&&this.hide()},Object.defineProperty(u.prototype,"create",{value:function(){var t=this.element.trigger;if(!this.element.target){var e=this.element.datalist&&this.element.datalist.id;e||(e=("lulu_"+Math.random()).replace("0.",""),t.setAttribute("data-target",e));var i=document.createElement("div");i.classList.add(s),i.addEventListener("click",function(t){t.touches&&t.touches.length&&(t=t.touches[0]);var e=t.target.closest&&t.target.closest("li");if(e&&0==e.classList.contains(a)){var i=e.getAttribute("data-value"),n=e.getAttribute("data-index");this.params.index=Number(n),this.value(i),this.hide(),this.select()}}.bind(this)),t.id&&i.classList.add(s.add(t.id.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).replace(/^-+|-+$/g,""))),this.element.container.appendChild(i),this.element.target=i,this.display=!1}return this}}),u.prototype.value=function(t){var e=this.element.input;if(void 0===t)return d(e.value.trim());var i=t.toString();e.value=c(i.trim());var a=this.data[this.params.index];return JSON.stringify(a)==JSON.stringify(e.oldValue)&&this.params.index==e.lastIndex||(e.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:a})),e.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:a}))),e.oldValue=a,e.lastIndex=this.params.index,this},u.prototype.events=function(){var t=this.element.trigger;return document.activeElement!=t&&(t.isFocus=!1),t.addEventListener("blur",(function(){t.isFocus=!1})),t.addEventListener("focus",(function(){window.isKeyEvent&&t.click()})),t.addEventListener("click",function(){0==this.display&&(!0===this.placeholder&&(t.focusValue=t.value.trim(),t.focusValue&&t.setAttribute("placeholder",t.focusValue),t.value=""),1==this.params.twice&&1==t.isFocus?this.refresh():this.params.twice||this.refresh()),t.isFocus=!0}.bind(this)),t.addEventListener("input",function(e){!1!==e.isTrusted&&(null==document.msHidden||""!=t.value.trim()||t.lastValue||!t.getAttribute("placeholder")?1==this.placeholder||t.value.trim()?this.refresh():this.hide():t.lastValue=t.value)}.bind(this)),t.addEventListener("keydown",function(e){var n=this.data,r=this.params.index,s=this.element.target;if(s){var o=s.querySelector("."+i);switch(e.keyCode){case 27:case 13:1==this.display&&(this.hide(),e.preventDefault(),o&&(o.click(),e.preventDefault(),setTimeout((function(){var e=t;if(t.setSelectionRange)try{e.setSelectionRange(e.value.length,e.value.length)}catch(t){e.value=e.value}else e.value=e.value;e.dispatchEvent(new CustomEvent("input",{bubbles:!0,detail:n[r]}))}),17)));break;case 38:case 40:if(1==this.display&&n&&n.length){e.preventDefault();var d=[];if(n.forEach((function(t,e){t[a]||""===t[a]||d.push(e)})),0==d.length)return;var c=d.indexOf(r);38==e.keyCode?c--:c++,r=c<0?d[d.length-1]:c>d.length-1?d[0]:d[c],this.params.index=r}n[r]&&this.value(l(n[r].value)),t.select(),this.refresh(n);break;case 46:if(1==this.display&&1==this.params.twice&&o){var u=o.getAttribute("data-value");this.removeStore(u),n=n.filter((function(t){return t.value!=u})),e.preventDefault();var h=n[r]||n[r-1];h?(this.value(l(h.value)),this.refresh(n)):(this.value="",this.hide())}}}}.bind(this)),document.addEventListener(o.end,function(e){e.touches&&e.touches.length&&(e=e.touches[0]);var i=e.target,a=this.element.target;a&&1==i.nodeType&&0==a.contains(i)&&this.hide(),i!=t&&""==t.value.trim()&&(t.focusValue?t.value=t.focusValue:this.params.placeholder&&t.setAttribute("placeholder",this.params.placeholder))}.bind(this)),window.addEventListener("resize",function(){1==this.display&&this.position()}.bind(this)),this},u.prototype.position=function(){var e=this.element.trigger,i=this.element.target;return e&&i&&(new t(e,i,{edgeAdjust:this.params.edgeAdjust||!1}),1==this.display&&e.classList.add(n)),this},u.prototype.select=function(){this.callback.select.call(this,this.data[this.params.index],this.element.trigger,this.element.target)},u.prototype.show=function(){var t=this.element.trigger,e=this.element.target;e||(this.create(),e=this.element.target);var i=this.display,a=this.params.width,n=t.getBoundingClientRect().width||t.clientWidth;"auto"==a?a=n:"function"==typeof a&&(a=a.call(this,t,e)),"auto"!=a&&"number"!=typeof a&&(a=n),e.style.display="block",e.style.width=a+"px","number"==typeof e.lastScrollTop&&e.querySelector("ul")&&(e.querySelector("ul").scrollTop=e.lastScrollTop),this.display=!0,this.position(),0==i&&this.callback.show.call(this,t,e)},u.prototype.hide=function(){var t=this.element.trigger,e=this.element.target;e&&1==this.display&&(e.querySelector("ul")&&(e.lastScrollTop=e.querySelector("ul").scrollTop),e.style.display="none",e.classList.remove(r),this.callback.hide.call(this,t,e)),t.classList.remove(n),t.classList.remove(r),this.display=!1};var h=function(){var t="input[is-datalist]",e=function(e){e&&e.forEach&&e.forEach((function(e){e.matches&&e.matches(t)&&e.dispatchEvent(new CustomEvent("connected"))}))};(setTimeout((function(){e(document.querySelectorAll(t))}),1),!1!==window.watching)&&(window.MutationObserver?new MutationObserver((function(i){i.forEach((function(i){i.addedNodes.forEach((function(i){i.matches&&(i.matches(t)?e([i]):i.querySelector&&e(i.querySelectorAll(t)))}))}))})).observe(document.body,{childList:!0,subtree:!0}):document.body.addEventListener("DOMNodeInserted",(function(t){e([t.target])})))};"loading"!=document.readyState?h():window.addEventListener("DOMContentLoaded",h);return u}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.DateTime=function(){var t=(this||self).Follow,e={toString:function(){return"ui-datetime"}};["date","range","day","year","month","hour","minute"].forEach((function(t){e[t]=function(){return["ui",t].concat([].slice.call(arguments)).join("-")}}));var i="selected",a="active",n=/-|\//g;String.prototype.toDate=function(){var t,e,i,a=this.split(n);return t=1*a[0],e=a[1]||1,i=a[2]||1,t?new Date(t,e-1,i):new Date},Date.prototype.toArray=function(){var t=this.getFullYear(),e=this.getMonth()+1,i=this.getDate();return e<10&&(e="0"+e),i<10&&(i="0"+i),[t,e,i]};var r=function(t,a){var n=t;if("string"==typeof t&&(n=document.querySelector(t)),!n||n.hasAttribute("is-visible"))return this;var r={value:"",type:"auto",min:"auto",max:"auto",onShow:function(){},onHide:function(){}},s=Object.assign({},r,a||{}),o=null,l=null;if(n.getAttribute("type")?n=(l=n).parentElement:l=n.querySelector("input"),l||(l=document.createElement("input"),"auto"!=s.min&&l.setAttribute("min",s.min),"auto"!=s.max&&l.setAttribute("max",s.max),"auto"!=s.type&&l.setAttribute("type",s.type),o=n),l.data&&l.data.dateTime)return l.data.dateTime;l.setAttribute("readonly","readonly");var d=s.type;"auto"==d&&(d=l.getAttribute("type")||"date");var c=l.id;c||(c=("lulu_"+Math.random()).replace("0.",""),l.id=c);var u=document.createElement("label");u.classList.add(e.date("arrow")),"static"!=getComputedStyle(n).position?l.insertAdjacentElement("afterend",u):n=l;var h=l.value;switch(""==h&&s.value&&(h=l.value=s.value),d){case"date":case"year":case"month":var p=h.toDate().toArray();""==h&&("date"==d?l.value=p.join("-"):"year"==d?l.value=p[0]:"month"==d&&(l.value=p.slice(0,2).join("-"))),this[i]=p;break;case"time":case"hour":case"minute":var f=h.split(":"),m=f[0],v=f[1];""!=h&&m<24&&m>0?(v>0&&v<60&&"hour"!=d?1==v.length&&(v="0"+v):v="00",1==m.length&&(m="0"+m)):(m="00",v="00"),l.value=[m,v].join(":"),this[i]=[m,v];break;case"date-range":case"month-range":var g=new Date,y=new Date,b=h.split(" ");if(""!=h&&1==b.length){var w=b[0].toDate();w.getTime()>g.getTime()?y=w:g=w}else g=b[0].toDate(),y=b[b.length-1].toDate();var E=g.toArray(),A=y.toArray();l.value="date-range"==d?E.join("-")+" 至 "+A.join("-"):E.slice(0,2).join("-")+" 至 "+A.slice(0,2).join("-"),this[i]=[E,A]}if(!o){(o=document.createElement("div")).classList.add(e.date("container"));var S=("lulu_"+Math.random()).replace("0.","");o.setAttribute("id",S),o.classList.add("ESC"),l.setAttribute("data-target",S),o.setAttribute("data-id",c)}return this.element={container:o,trigger:n,input:l},this.params={type:d,max:s.max,min:s.min},this.callback={show:s.onShow,hide:s.onHide},this.svg='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M85.876,100.5l49.537-50.526c4.089-4.215,4.089-11.049,0-15.262 c-4.089-4.218-10.719-4.218-14.808,0L63.586,92.868c-4.089,4.215-4.089,11.049,0,15.264l57.018,58.156 c4.089,4.215,10.719,4.215,14.808,0c4.089-4.215,4.089-11.049,0-15.262L85.876,100.5z"/></svg>',this.events(),l.data||(l.data={}),l.data.dateTime=this,o==n&&(o.data={dateTime:this},this.show()),this};r.prototype.events=function(){var t=this.element,e=t.container,a=t.trigger,n=t.input;e.addEventListener("click",function(t){if(1==t.target.nodeType&&t.target.closest){var a=t.target.closest("a, button");if(a){var n,r=0,s=0,o=0,l=0,d=[],c="";switch(e.getAttribute("data-type")){case"date":if(/prev|next/.test(a.className)){s=a.getAttribute("data-month"),this[i][1]=1*s;var u=this.getMonthDay(this[i]),h=s-1<0?u[11]:s>u.length?u[0]:u[s-1];l=this[i][2];var p=e.dataDayOverflow;p?this[i][2]=Math.min(p,h):this[i][2]>h&&(this[i][2]=h,e.dataDayOverflow=l),this[i]=this[i].join("-").toDate().toArray(),this.date(),e.querySelector("."+i+"[href]")&&this.value()}else/item/.test(a.className)?(l=a.innerHTML,/\D/.test(l)?this[i]=(new Date).toArray():(l<10&&(l="0"+l),this[i][2]=l),this.value(),this.hide(),delete e.dataDayOverflow):"month"==a.getAttribute("data-type")&&this.month();break;case"date-range":/prev|next/.test(a.className)?(s=1*a.getAttribute("data-month"),d=e.dataDate||this[i][0],e.dataDate=new Date(d[0],s-1,1).toArray(),this["date-range"]()):/item/.test(a.className)?(r=a.getAttribute("data-year"),s=a.getAttribute("data-month"),l=a.innerHTML,s<10&&(s="0"+s),l<10&&(l="0"+l),(n=this[i])[0].join()==n[1].join()?r+s+l>n[0].join("")?n[1]=[r,s,l]:n[0]=[r,s,l]:n=[[r,s,l],[r,s,l]],this[i]=n,this["date-range"]()):/button/.test(a.className)&&("primary"==(c=a.getAttribute("data-type"))?(this.value(),this.dataRangeSelected=this[i],this.hide()):"normal"==c&&(this.dataRangeSelected&&(this[i]=this.dataRangeSelected),this.hide()));break;case"month-range":/prev|next/.test(a.className)?(r=1*a.getAttribute("data-year"),d=e.dataDate||this[i][0],e.dataDate=new Date(r,d[1],1).toArray(),this["month-range"]()):/item/.test(a.className)?(r=a.getAttribute("data-year"),s=a.getAttribute("data-value"),l="01",(n=this[i])[0].join()==n[1].join()?r+s+l>n[0].join("")?n[1]=[r,s,l]:n[0]=[r,s,l]:n=[[r,s,l],[r,s,l]],this[i]=n,this["month-range"]()):/button/.test(a.className)&&("primary"==(c=a.getAttribute("data-type"))?(this.value(),this.dataRangeSelected=this[i],this.hide()):"normal"==c&&(this.dataRangeSelected&&(this[i]=this.dataRangeSelected),this.hide()));break;case"month":if(/prev|next/.test(a.className))r=a.getAttribute("data-year"),this[i][0]=1*r,this.month(),e.querySelector("."+i+"[href]")&&this.value();else if(/item/.test(a.className)){var f=a.getAttribute("data-value");if(f)this[i][1]=f;else{var m=(new Date).toArray();this[i][0]=m[0],this[i][1]=m[1]}this[i][2]>(u=this.getMonthDay(this[i]))[this[i][1]-1]&&(this[i][2]=u[this[i][1]-1]),this.value(),"month"==this.params.type?this.hide():this.date()}else"year"==a.getAttribute("data-type")&&this.year();break;case"year":/prev|next/.test(a.className)?(r=a.getAttribute("data-year"),this[i][0]=1*r,this.year(),e.querySelector("."+i+"[href]")&&this.value()):/item/.test(a.className)&&("今年"==a.innerHTML?this[i][0]=(new Date).getFullYear():this[i][0]=1*a.innerHTML,this.value(),"year"==this.params.type?this.hide():this.month());break;case"minute":/prev|next/.test(a.className)?(1==(o=a.getAttribute("data-hour")).length&&(o="0"+o),this[i][0]=o,this.minute(),e.querySelector("."+i+"[href]")&&this.value()):/item/.test(a.className)?(this[i]=a.innerHTML.split(":"),this.value(),this.hide()):"hour"==a.getAttribute("data-type")&&this.hour();break;case"hour":/item/.test(a.className)&&(this[i][0]=a.innerHTML.split(":")[0],this.value(),"hour"==this.params.type?this.hide():this.minute())}}}}.bind(this)),a.addEventListener("click",function(t){t.preventDefault(),this.display?this.hide():this.show()}.bind(this)),n.addEventListener("keydown",(function(t){13==t.keyCode&&(t.preventDefault(),this.click())})),document.addEventListener("mouseup",function(t){var i=t.target;i&&0==a.contains(i)&&0==e.contains(i)&&this.hide()}.bind(this))},r.prototype.format=function(){var t=this.params.type,e=this.element.input,a=e&&e.value.trim();if(!a)return this;switch(t){case"date":case"year":case"month":var n=a.toDate().toArray();this[i]=n;break;case"time":case"hour":case"minute":var r=a.split(":"),s=r[0],o=r[1];2==r.length&&(o>0&&o<60&&"hour"!=t?1==o.length&&(o="0"+o):o="00",1==s.length&&(s="0"+s),e.value=[s,o].join(":"),this[i]=[s,o]);break;case"date-range":case"month-range":var l=new Date,d=new Date,c=a.split(" ");3==c.length&&(l=c[0].toDate(),d=c[c.length-1].toDate(),this[i]=[l.toArray(),d.toArray()])}return this},r.prototype.value=function(){var t=this.element.input,e=this[i],a=t.value;switch(this.params.type){case"date":t.value=e.join("-");break;case"month":t.value=e.slice(0,2).join("-");break;case"year":t.value=e[0];break;case"date-range":t.value=e[0].join("-")+" 至 "+e[1].join("-");break;case"month-range":t.value=e[0].slice(0,2).join("-")+" 至 "+e[1].slice(0,2).join("-");break;case"time":case"minute":t.value=e.join(":");break;case"hour":t.value=e[0]+":00"}return t.value!=a&&t.dispatchEvent(new CustomEvent("change",{bubbles:!0})),t.value},Object.defineProperty(r.prototype,"getCalendarData",{value:function(t){var a="",r=this.element.input,s=this.params.type,o=r.getAttribute("min")||this.params.min,l=r.getAttribute("max")||this.params.max,d=[o,l].map((function(t,e){return"string"==typeof t&&1==/^\d{8}$/.test(t.replace(n,""))?t=t.toDate():"object"==typeof t&&t.getTime||(t=e?new Date(9999,0,1):new Date(0,0,1)),t}));o=d[0],l=d[1];var c,u=["日","一","二","三","四","五","六"],h=this.getMonthDay(t),p=t.join("-").toDate();a=a+'<div class="'+e.day("x")+'">'+(c="",u.forEach((function(t,i){c=c+'<span class="'+e.day("item")+" col"+i+'">'+t+"</span>"})),c+"</div>");var f=t.join("-").toDate(),m=0;f.setDate(1),2==f.getDate()&&f.setDate(0),m=f.getDay();var v=f.getMonth()-1;v<0&&(v=11);var g='data-year="'+t[0]+'" data-month="'+(f.getMonth()+1)+'"',y="data-date=",b="";return a=a+'<div class="'+e.date("body")+'">'+function(){for(var a="",n="",r=0;r<6;r++){a=a+'<div class="'+e.date("tr")+'">';for(var d=0;d<7;d++){n=e.date("item")+" col"+d;var c,u,w=t[0],E=f.getMonth()+1;if("date"==s)0==r&&d<m?(c=h[v]-m+d+1,u=new Date(w,v,c),a=a+'<span class="'+n+'" '+(b=y+u.toArray().join("-"))+">"+c+"</span>"):(c=7*r+d-m+1)<=h[f.getMonth()]?(u=new Date(w,f.getMonth(),c),b=y+u.toArray().join("-"),p.getDate()==c&&(n=n+" "+i),a=u>=o&&u<=l?a+'<a href="javascript:;" '+g+' class="'+n+'" '+b+">"+c+"</a>":a+'<span class="'+n+'" '+b+">"+c+"</span>"):(c-=h[f.getMonth()],a=a+'<span class="'+n+'" '+(b=y+new Date(w,E,c).toArray().join("-"))+">"+c+"</span>");else if("date-range"==s)if(0==r&&d<m)a=a+'<span class="'+n+'"></span>';else if((c=7*r+d-m+1)<=h[f.getMonth()]){u=new Date(w,f.getMonth(),c),b=y+u.toArray().join("-");var A=this[i][0].join("-").toDate(),S=this[i][1].join("-").toDate(),L=u.getTime(),x=A.getTime(),T=S.getTime();L>=x&&L<=T&&(n=n+" "+i,L==x&&(n=n+" "+e.date("begin")),L==T&&(n=n+" "+e.date("end")),1==c?n=n+" "+e.date("first"):c==h[f.getMonth()]&&(n=n+" "+e.date("last"))),a=u>=o&&u<=l?a+'<a href="javascript:;" '+g+' class="'+n+'" '+b+">"+c+"</a>":a+'<span class="'+n+'" '+b+">"+c+"</span>"}else a=a+'<span class="'+n+'"></span>'}a+="</div>"}return a}.call(this)+"</div>",{monthDay:h,html:a,min:o,max:l}}}),Object.defineProperty(r.prototype,"getMonthData",{value:function(t){var a=this.element.input,r=a.getAttribute("min")||this.params.min,s=a.getAttribute("max")||this.params.max,o=[r,s].map((function(t,e){return t="object"==typeof t&&t.getTime?t.toArray().slice(0,2).join(""):"string"==typeof t&&0==/\D/.test(t.replace(n,""))?t.replace(n,"").slice(0,6):e?"999912":"000000"}));r=o[0],s=o[1];var l=["一","二","三","四","五","六","七","八","九","十","十一","十二"],d=1*t[0],c=this.params.type;return{html:'<div class="'+e.month("body")+'">'+function(){for(var a="",n="",o="",u=1;u<=12;u+=1){if(o=u<10?"0"+u:u+"",n=e.date("item"),"month"==c)u==t[1]&&(n=n+" "+i);else if("month-range"==c){var h=this[i][0].slice(0,2).join(""),p=this[i][1].slice(0,2).join(""),f=d+o;f>=h&&f<=p&&(n=n+" "+i)}a=d+o>=r&&d+o<=s?a+'<a href="javascript:" class="'+n+'" data-year="'+d+'" data-value="'+o+'">'+l[u-1]+"月</a>":a+'<span class="'+n+'" data-value="'+o+'">'+l[u-1]+"月</span>"}return a}.call(this)+"</div>",min:r,max:s}}}),Object.defineProperty(r.prototype,"getMonthDay",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=[31,28,31,30,31,30,31,31,30,31,30,31];return(e[0]%4==0&&e[0]%100!=0||e[0]%400==0)&&(i[1]=29),i}}),Object.defineProperty(r.prototype,"getDatePrevMonth",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=1*e[1],a=this.getMonthDay(e);return 1==i?[e[0]-1,12,e[2]].join("-").toDate():a[i-2]<e[2]?[e[0],i-1,a[i-2]].join("-").toDate():[e[0],i-1,e[2]].join("-").toDate()}}),Object.defineProperty(r.prototype,"getDateNextMonth",{value:function(t){var e=t;"object"==typeof t||t.map||(e=t.toArray());var i=1*e[1],a=this.getMonthDay(e);return 12==i?[e[0]+1,1,e[2]].join("-").toDate():a[i]<e[2]?[e[0],i+1,a[i]].join("-").toDate():[e[0],i+1,e[2]].join("-").toDate()}}),r.prototype.date=function(){var t=this.element.container,a=this[i],n=a[1]-1,r=1*a[1]+1,s=this.getCalendarData(a),o='<div class="'+e.date("x")+'">';o=o+'<div class="'+e.date("head")+'">';var l=this.getDatePrevMonth(a),d=l.getMonth(),c=l.getFullYear();o=new Date(c,d,s.monthDay[d])>=s.min&&l<=s.max?o+'<a href="javascript:" class="'+e.date("prev")+'" data-month="'+n+'" role="button" aria-label="上一月">'+this.svg+"</a>":o+'<span class="'+e.date("prev")+'" aria-label="上一月">'+this.svg+"</span>";var u=this.getDateNextMonth(a),h=u.getMonth(),p=u.getFullYear();return o=(o=u>=s.min&&new Date(p,h,1)<=s.max?o+'<a href="javascript:" class="'+e.date("next")+'" data-month="'+r+'" role="button" aria-label="下一月">'+this.svg+"</a>":o+'<span class="'+e.date("next")+'" aria-label="下一月">'+this.svg+"</span>")+'<a href="javascript:" class="'+e.date("switch")+'" data-type="month" role="button" aria-label="快速切换月份">'+a.slice(0,2).join("-")+"</a>        </div>",o+=s.html,o=new Date>=s.min&&new Date<=s.max?o+'<a href="javascript:" class="'+e.date("item")+" "+e.date("now")+'" role="button">今天</a>':o+'<span class="'+e.date("item")+" "+e.date("now")+'">今天</span>',o+="</div>",t.setAttribute("data-type","date"),t.innerHTML=o,this},r.prototype["date-range"]=function(){var t=this.element.container,a=this[i],n=t.dataDate||a[0];t.dataDate=n;var r=n[1]-1,s=1*n[1]+1,o=this.getCalendarData(n),l='<div class="'+e.range("x")+'">';l=l+'<div class="'+e.date("head")+'">            <div class="'+e.date("half")+'">';var d=new Date(n[0],r-1,n[2]);l=(l=d>=o.min&&d<=o.max?l+'<a href="javascript:" class="'+e.date("prev")+'" data-month="'+r+'" aria-label="上一个月，当前'+n[1]+'月">'+this.svg+"</a>":l+'<span class="'+e.date("prev")+'">'+this.svg+"</span>")+'<span class="'+e.date("switch")+'">'+new Date(n[0],r,n[2]).toArray().slice(0,2).join("-")+'</span>        </div>        <div class="'+e.date("half")+'">';var c=new Date(n[0],n[1],1),u=new Date(n[0],s,n[2]);return l=(l=u>=o.min&&u<=o.max?l+'<a href="javascript:" class="'+e.date("next")+'" data-month="'+s+'" aria-label="下一个月，当前'+s+'月">'+this.svg+"</a>":l+'<span class="'+e.date("next")+'">'+this.svg+"</span>")+'<span class="'+e.date("switch")+'">'+c.toArray().slice(0,2).join("-")+"</span>        </div>",l=(l=(l+="</div>")+'<div class="'+e.range("body")+" "+e.range("date","body")+'"><div class="'+e.date("half")+'">'+o.html+'</div><div class="'+e.date("half")+'">'+this.getCalendarData(c.toArray()).html+"</div></div>")+'<div class="'+e.range("footer")+'"><button class="ui-button" data-type="primary">确定</button><button class="ui-button" data-type="normal">取消</button></div>',l+="</div>",t.setAttribute("data-type","date-range"),t.innerHTML=l,this},r.prototype.month=function(){var t=this.element.container,a=this[i],n=this.getMonthData(a),r=n.min,s=n.max,o='<div class="'+e.month("x")+'">',l=1*a[0];o=o+'<div class="'+e.date("head")+'">',o=l-1>=Math.floor(r/100)&&l-1<=Math.floor(s/100)?o+'<a href="javascript:" class="'+e.date("prev")+'" data-year="'+(l-1)+'" role="button" aria-label="上一年">'+this.svg+"</a>":o+'<span class="'+e.date("prev")+'" aria-label="上一年">'+this.svg+"</span>",o=(o=l+1>=Math.floor(r/100)&&l+1<=Math.floor(s/100)?o+'<a href="javascript:" class="'+e.date("next")+'" data-year="'+(l+1)+'" role="button" aria-label="下一年">'+this.svg+"</a>":o+'<span class="'+e.date("next")+'">'+this.svg+"</span>")+'<a href="javascript:" class="'+e.date("switch")+'" data-type="year" role="button" aria-label="快速切换年份">'+l+"</a>        </div>",o+=n.html;var d=(new Date).toArray().slice(0,2).join("");return o=d>=r&&d<=s?o+'<a href="javascript:" class="'+e.date("item")+" "+e.date("now")+'">今月</a>':o+'<span class="'+e.date("item")+" "+e.date("now")+'">今月</span>',o+="</div>",t.setAttribute("data-type","month"),t.innerHTML=o,this},r.prototype["month-range"]=function(){var t=this.element.container,a=this[i],n=t.dataDate||a[0];t.dataDate=n;var r=1*n[0]-1,s=1*n[0]+1,o=this.getMonthData(n),l=o.max.slice(0,4),d=o.min.slice(0,4),c='<div class="'+e.range("x")+'">';return c=c+'<div class="'+e.date("head")+'">            <div class="'+e.date("half")+'">',c=(c=r>=d&&r<=l?c+'<a href="javascript:" class="'+e.date("prev")+'" data-year="'+r+'" role="button" aria-label="上一年">'+this.svg+"</a>":c+'<span class="'+e.date("prev")+'" aria-label="上一年">'+this.svg+"</span>")+'<span class="'+e.date("switch")+'">'+n[0]+'</span>        </div>        <div class="'+e.date("half")+'">',c=(c=s>=d&&s<l?c+'<a href="javascript:" class="'+e.date("next")+'" data-year="'+s+'" role="button" aria-label="下一年">'+this.svg+"</a>":c+'<span class="'+e.date("next")+'" aria-label="下一年">'+this.svg+"</span>")+'<span class="'+e.date("switch")+'">'+s+"</span>        </div>",c=(c=(c+="</div>")+'<div class="'+e.range("body")+" "+e.range("month","body")+'"><div class="'+e.date("half")+'">'+o.html+'</div><div class="'+e.date("half")+'">'+this.getMonthData([s,n[1],n[2]]).html+"</div></div>")+'<div class="'+e.range("footer")+'"><button class="ui-button" data-type="primary">确定</button><button class="ui-button" data-type="normal">取消</button></div>',c+="</div>",t.setAttribute("data-type","month-range"),t.innerHTML=c,this},r.prototype.year=function(){var t=this.element.input,a=this.element.container,r=this[i],s=t.getAttribute("min")||this.params.min,o=t.getAttribute("max")||this.params.max;s="object"==typeof s&&s.getFullYear?s.getFullYear():"string"==typeof s&&0==/\D/.test(s.replace(n,""))?s.toDate().getFullYear():0,o="object"==typeof o&&o.getFullYear?o.getFullYear():"string"==typeof o&&0==/\D/.test(o.replace(n,""))?o.toDate().getFullYear():9999;var l='<div class="'+e.year("x")+'">',d=r[0];l=l+'<div class="'+e.date("head")+'">',l=d-12>=s&&d-12<=o?l+'<a href="javascript:" class="'+e.date("prev")+'" data-year="'+(d-12)+'" role="button" aria-label="上一个12年">'+this.svg+"</a>":l+'<span class="'+e.date("prev")+'">'+this.svg+"</span>",l=(l=(l=d+12>=s&&d+12<=o?l+'<a href="javascript:" class="'+e.date("next")+'" data-year="'+(d+12)+'" role="button" aria-label="下一个12年">'+this.svg+"</a>":l+'<span class="'+e.date("next")+'">'+this.svg+"</span>")+'<span class="'+e.date("switch")+'">'+[d-6,d+5].join("-")+"</span></div>")+'<div class="'+e.year("body")+'">'+function(){for(var t="",a="",n=d-6;n<d+6;n+=1)a=e.date("item"),n==d&&(a=a+" "+i),t=n>=s&&n<=o?t+'<a href="javascript:" class="'+a+'">'+n+"</a>":t+'<span class="'+a+'">'+n+"</span>";return t}()+"</div>";var c=(new Date).getFullYear();return l=c>=s&&c<=o?l+'<a href="javascript:" class="'+e.date("item")+" "+e.date("now")+'" role="button">今年</a>':l+'<span class="'+e.date("item")+" "+e.date("now")+'">今年</span>',l+="</div>",l+="</div>",a.setAttribute("data-type","year"),a.innerHTML=l,this},r.prototype.hour=function(){var t=this.element.container,a=this.element.input,n=this[i],r=1*a.getAttribute("step");r="hour"!=this.params.type||!r||r<1?1:Math.round(r);var s=(a.getAttribute("min")||this.params.min.toString()).split(":")[0],o=(a.getAttribute("max")||this.params.max.toString()).split(":")[0];/\D/.test(s)?s=0:s*=1,/\D/.test(o)?o=24:o*=1;var l='<div class="'+e.hour("x")+'">';return l=l+'<div class="'+e.hour("body")+'">'+function(){for(var t="",a="",l="",d=0;d<24;d+=r)1==(a=d+"").length&&(a="0"+a),l=e.date("item"),a==n[0]&&(l=l+" "+i),t=a>=s&&a<=o?t+'<a href="javascript:" class="'+l+'">'+a+":00</a>":t+'<span class="'+l+'">'+a+":00</span>";return t}()+"</div>",l+="</div>",t.setAttribute("data-type","hour"),t.innerHTML=l,this},r.prototype.minute=function(){var t=this.element.container,a=this.element.input,n=this[i],r=1*a.getAttribute("step")||5,s=a.getAttribute("min")||this.params.min+"",o=a.getAttribute("max")||this.params.max+"";s="auto"==s||/\D/.test(s.replace(":",""))||2!=s.split(":").length?0:1*s.replace(":",""),o="auto"==o||/\D/.test(o.replace(":",""))||2!=o.split(":").length?2359:1*o.replace(":","");var l='<div class="'+e.minute("x")+'" data-step="'+r+'">',d=1*n[0];return l=l+'<div class="'+e.date("head")+'">',l=d<=Math.floor(s/100)?l+'<span class="'+e.date("prev")+'">'+this.svg+"</span>":l+'<a href="javascript:" class="'+e.date("prev")+'" data-hour="'+(d-1)+'" role="button" aria-label="上一个小时">'+this.svg+"</a>",l=(l=(l=d>=Math.floor(o/100)?l+'<span class="'+e.date("next")+'">'+this.svg+"</span>":l+'<a href="javascript:" class="'+e.date("next")+'" data-hour="'+(d+1)+'" role="button" aria-label="下一个小时">'+this.svg+"</a>")+'<a href="javascript:" class="'+e.date("switch")+'" data-type="hour">'+n[0]+":00</a></div>")+'<div class="'+e.minute("body")+'">'+function(){for(var t="",a="",l="",d=0;d<60;d+=r)1==(a=d+"").length&&(a="0"+a),l=e.date("item"),1*(n[0]+a)>=s&&1*(n[0]+a)<=o?(a==n[1]&&(l=l+" "+i),t=t+'<a href="javascript:" class="'+l+'">'+[n[0],a].join(":")+"</a>"):t=t+'<span class="'+l+'">'+[n[0],a].join(":")+"</span>";return t}()+"</div>",l+="</div>",t.setAttribute("data-type","minute"),t.innerHTML=l,this},r.prototype.show=function(){var e=this.element.container,n=this.element.trigger,r=this.element.input;if(r.disabled)return this;if(this.format(),"time"==this.params.type?this.minute():"date-range"==this.params.type?(this.dataRangeSelected||(this.dataRangeSelected=this[i]),this["date-range"]()):"month-range"==this.params.type?(this.dataRangeSelected||(this.dataRangeSelected=this[i]),this["month-range"]()):this[this.params.type]?this[this.params.type]():this.date(),0==document.body.contains(e)&&document.body.appendChild(e),n!=e){e.style.display="block",n.classList.add(a),new t(n,e,{position:"4-1"});var s=parseFloat(e.style.left),o=e.offsetWidth;s+o+3>screen.width&&(e.style.left=Math.max(screen.width-o-3,0)+"px")}return"function"==typeof this.callback.show&&this.callback.show.call(this,r,e),this.display=!0,this},r.prototype.hide=function(){var t=this.element.container,e=this.element.trigger,i=this.element.input;return 1==this.display&&e!=t&&(t.style.display="none",e.classList.remove(a),i.focus(),i.blur(),"function"==typeof this.callback.hide&&this.callback.hide.call(this,i,t)),this.display=!1,this};var s=function(){if(!1!==window.autoInit){var t='input[type^="date"],input[type^="year"],input[type^="month"],input[type^="time"],input[type^="hour"],input[type^="minute"]',e=function(e,i){e&&(e.matches&&e.querySelector&&(e=e.matches(t)?[e]:e.querySelectorAll(t)),e.forEach&&e.forEach((function(t){t.matches&&("remove"==i&&t.data&&t.data.dateTime?t.data.dateTime.element.container.remove():t.data&&t.data.color||new r(t))})))};if(e(document.querySelectorAll(t)),!1!==window.watching)if(window.MutationObserver)new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.forEach((function(i){e.call(t,i)})),t.removedNodes.forEach((function(i){e.call(t,i,"remove")}))}))})).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",(function(t){e(t.target)})),document.body.addEventListener("DOMNodeRemoved",(function(t){e(t.target,"remove")}))}};"loading"!=document.readyState?s():window.addEventListener("DOMContentLoaded",s);return r}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Validate=function(){var t=(this||self).ErrorTip;window.DBC2SBC=function(t){var e,i,a="";for(e=0;e<t.length;e++)a+=(i=t.charCodeAt(e))>=65281&&i<=65373?String.fromCharCode(t.charCodeAt(e)-65248):12288==i?String.fromCharCode(t.charCodeAt(e)-12288+32):t.charAt(e);return a},window.scrollTopTo=function(t,e){var i=document.scrollingElement.scrollTop,a=2,n=function(){if(i+=(t-i)/a,Math.abs(i-t)<=1)return document.scrollingElement.scrollTop=t,void(e&&e());document.scrollingElement.scrollTop=i,requestAnimationFrame(n)};n()},document.validate={reg:{email:"^[a-z0-9._%-]+@([a-z0-9-]+\\.)+[a-z]{2,4}$",number:"^\\-?\\d+(\\.\\d+)?$",url:"^(http|https)\\:\\/\\/[a-z0-9\\-\\.]+\\.[a-z]{2,3}(:[a-z0-9]*)?\\/?([a-z0-9\\-\\._\\:\\?\\,\\'\\/\\\\\\+&amp;%\\$#\\=~])*$",tel:"^1\\d{10}$",zipcode:"^\\d{6}$",date:"^\\d{4}\\-(0\\d|1[0-2])\\-([0-2]\\d|3[0-1])$",time:"^[0-2]\\d\\:[0-5]\\d$",hour:"^[0-2]\\d\\:00$",minute:"^[0-2]\\d\\:[0-5]\\d$","date-range":"^\\d{4}(\\-\\d{2}){2}\\s至\\s\\d{4}(\\-\\d{2}){2}$","month-range":"^\\d{4}\\-\\d{2}\\s至\\s\\d{4}\\-\\d{2}$"},name:{email:"邮箱",tel:"手机号码",url:"网址",zipcode:"邮编",password:"密码",number:"数值",range:"数值",date:"日期",year:"年份",month:"月份",hour:"小时",minute:"分钟",time:"时间",datetime:"日期时间","date-range":"日期范围","month-range":"月份范围"},selectRange:function(t,e,i){if(t)if(t.createTextRange){var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",i),a.moveStart("character",e),a.select()}else t.focus&&(t.focus(),t.setSelectionRange(e,i))},getTel:function(t){var e=t||"";return(e=e.replace("+86","")).match(/\d/)&&11==e.match(/\d/g).length&&(e=e.replace(/\D/g,"")),e},getLength:function(t,e){if("password"==t.type)return e||t.value.length;var i=t.getAttribute("lang"),a=t.value.trim();if(!i)return e||a.length;if(""==a)return 0;var n=1,r=1;if(/zh/i.test(i)?r=.5:/en/i.test(i)&&(n=2),!e){var s=a.replace(/[\x00-\xff]/g,"").length,o=a.length-s;return Math.ceil(o*r)+Math.ceil(s*n)}var l=0,d=e;return a.split("").forEach((function(t,i){l>=e||(/[\x00-\xff]/.test(t)?l+=r:l+=n,l>=e&&(d=i+1))})),d},getType:function(t){var e=t.getAttribute("type"),i=e||t.type||"";if(i=i.toLowerCase().replace(/\W+$/,""),e&&e!=i&&!t.isTypeReset){var a=document.createElement("input");if(a.type=i,a.getAttribute("type")==i)try{t.type=i,t.isTypeReset=!0}catch(t){}}return"select-one"==i&&(i="select"),i.replace(/_/g,"")},getReportText:function(t){var e={name:this.name,badInput:"值无效",customError:"包含错误",patternMismatch:{pattern:"内容格式不符合要求",multiple:"某项内容格式不符合要求"},valueMissing:{radio:"请选择一个选项",checkbox:"如果要继续，请选中此框",select:"请选择列表中的一项","select-one":"请选择列表中的一项",empty:"请填写此字段"},rangeOverflow:"值偏大",rangeUnderflow:"值偏小",stepMismatch:"值不在间隔要求范围内",tooLong:"内容长度偏大",tooShort:"内容长度偏小",typeMismatch:"值和输入框类型不匹配"};if(!t)return"";var i=t.validity;if(1==i.valid)return"";var a="",n=t.id,r=this.getType(t),s=t.customValidate||{},o=s.report||{},l=e.name[r]||function(){if(s.label&&n&&!/checkbox|radio/.test(r)){var t="";return document.querySelectorAll('label[for="'+n+'"]').forEach((function(e){var i=e.cloneNode(!0);[].slice.call(i.children).forEach((function(t){t.remove()}));var a=i.innerHTML.trim().replace(/\d/g,"").replace("：","");a.length>t.length&&(t=a)})),t.length>=2?t:void 0}}();if(i.valueMissing)(a=o.valueMissing)||(a=(a=r&&l?"select"!=r?l+"不能为空":"您尚未选择"+l:e.valueMissing[r])||e.valueMissing.empty);else if(i.patternMismatch){if(!(a=o.patternMismatch)){var d=t.hasAttribute("multiple")&&t.value.split(",").length>1;a=e.patternMismatch[d?"multiple":"pattern"],r&&l&&(a=l+a)}}else if(i.badInput)(a=o.badInput)||(a=(l||"")+e.badInput);else if(i.typeMismatch)(a=o.typeMismatch)||(a=e.typeMismatch,l&&(a=a.replace("输入框",l)));else if(i.rangeUnderflow||i.rangeOverflow){if(!(a=o.rangeUnderflow||o.rangeOverflow)&&r&&l){var c=t.getAttribute("min"),u=t.getAttribute("max");"month-range"==r&&(c=c.slice(0,7),u=u.slice(0,7));var h="必须要大于或等于"+c,p="必须要小于或等于"+u;i.rangeUnderflow&&i.rangeOverflow?a="起始日期"+h+"，结束日期"+p:i.rangeUnderflow?(a=l+h,"-range"==r.slice(-6)&&(a="起始日期"+h)):(a=l+p,"-range"==r.slice(-6)&&(a="结束日期"+p))}a=a||"值不在要求的范围内"}else if(i.stepMismatch){if(!(a=o.stepMismatch)){var f=1*t.getAttribute("min"),m=1*t.getAttribute("max"),v=1*t.getAttribute("step")||1;a="number"==r||"range"==r?"请输入有效的值。两个最接近的有效值是"+function(){for(var e=1*t.value.trim(),i=f,a=f;a<m;a+=v)if(a<e&&a+v>e){i=a;break}return[i,i+v].join("和")}():"请"+(t.hasAttribute("readonly")?"选择":"输入")+"有效的值。"+(l||"")+"间隔是"+v}a=a||e.stepMismatch}else if(i.tooLong||i.tooShort){var g=t.getAttribute("lang"),y="";/zh/i.test(g)?y="个汉字(2字母=1汉字)":/en/i.test(g)&&(y="个字符(1汉字=2字符)"),i.tooLong?(a=o.tooLong)||(a=(l||"")+"内容长度不能大于"+(t.maxlength||t.getAttribute("maxlength")).replace(/\D/g,"")+y):(a=o.tooShort)||(a="内容长度不能小于"+t.getAttribute("minlength")+y)}else i.customError&&(a=o.customError||e.customError);return"function"==typeof a&&(a=a.call(t,t)),a},getMissingState:function(t){var e={valueMissing:!1};if(!t||t.disabled)return e;var i=this.getType(t),a=t.value;if(t.hasAttribute("required")){if("radio"==i){var n=[t],r=t.closest("form")||t.parentElement.parentElement;return t.name&&r&&(n=r.querySelectorAll('input[type="radio"][name="'+t.name+'"]')),0==[].slice.call(n).some((function(t){return t.checked}))&&(e.valueMissing=!0),e}if("checkbox"==i)return 0==t.checked&&(e.valueMissing=!0),e;"password"!=i&&(a=a.trim()),""==a&&(history.pushState&&(t.value=""),e.valueMissing=!0)}return e},isMissing:function(t){return this.getMissingState(t).valueMissing},getMismatchState:function(t,e,i){var a={patternMismatch:!1,typeMismatch:!1};if(!t||t.disabled)return!1;var n=t.value,r=n,s=this.getType(t);if(/^radio|checkbox|select$/i.test(s))return a;if("password"!=s&&(r=n.trim()),0==/^text|textarea|password$/i.test(s)&&(r=window.DBC2SBC(r)),"tel"==s&&(r=this.getTel(r)),!1!==document.validate.focusable&&0!==document.validate.focusable&&r!=n&&(t.value=r),""==r)return a;if(!(e=e||t.getAttribute("pattern")||s&&s.split("|").map((function(t){var e=document.validate.reg[t];if(e)return e})).join("|")))return a;var o=t.hasAttribute("multiple"),l=new RegExp(e,i||"i"),d=!0;return o&&0==/^number|range$/i.test(s)?r.split(",").forEach((function(t){t=t.trim(),d&&!l.test(t)&&(d=!1)})):d=l.test(r),0==d&&(t.hasAttribute("pattern")?a.patternMismatch=!0:a.typeMismatch=!0),a},isMismatch:function(t,e,i){var a=this.getMismatchState(t,e,i);return a.patternMismatch||a.typeMismatch},getRangeState:function(t){var e={badInput:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1};if(!t||t.disabled)return e;var i=this.getType(t),a=t.value.trim();if(/radio|checkbox|select|textarea/i.test(i)||""==a)return e;var n=t.getAttribute("min"),r=t.getAttribute("max"),s=Number(t.getAttribute("step"))||1;if("number"!=i&&"range"!=i||/[-+]?[0-9]/.test(a)||(e.badInput=!0),"-range"!=i.slice(-6)){if("0"!=a&&Number(a)!=a||(a*=1),n&&a<n&&(e.rangeUnderflow=!0),r&&a>r&&(e.rangeOverflow=!0),"number"!=i&&"range"!=i||!s||!n||/^\d+$/.test(Math.abs(a-n)/s)||(e.stepMismatch=!0),("hour"==i||"minute"==i||"time"==i)&&n&&s){var o=a.split(":")[1],l=n.split(":")[1];"hour"!=i||o==l&&(a.split(":")[0]-n.split(":")[0])%s==0?(o-l)%s!=0&&(e.stepMismatch=!0):e.stepMismatch=!0}}else{var d=a.split(" ");"month-range"==i&&(n=n&&n.slice(0,7),r=r&&r.slice(0,7)),3==d.length&&(n&&d[0]<n&&(e.rangeUnderflow=!0),r&&d[2]>r&&(e.rangeOverflow=!0))}return e},isOut:function(t){var e=this.getRangeState(t);return e.badInput||e.rangeOverflow||e.rangeUnderflow||e.stepMismatch},getLengthState:function(t){var e={tooLong:!1,tooShort:!1};if(!t||t.disabled||/^radio|checkbox|select$/i.test(t.type))return e;var i=t.getAttribute("minlength"),a=t.maxlength||t.getAttribute("maxlength");if(""==t.value)return e;var n=this.getLength(t);return i&&n<i&&(e.tooShort=!0),a&&n>(a=a.replace(/\D/g,""))&&(e.tooLong=!0),e},isOverflow:function(t){var e=this.getLengthState(t);return e.tooLong||e.tooShort},getCustomState:function(t){var e={customError:!1},i=t.customValidate;if(i&&"function"==typeof i.method){var a=i.method.call(i.owner,t);a&&(e.customError=!0,"object"==typeof a&&a.customError?this.setCustomValidity(t,a.customError):this.setCustomValidity(t,a))}return e},setCustomValidity:function(t,e){e&&(t.customValidate||(t.customValidate={report:{}}),t.customValidate.report||(t.customValidate.report={}),t.customValidate.report.customError=e)},checkValidity:function(t){if(!t||t.disabled)return!0;var e=t.getAttribute("type")||t.type,i=t.tagName.toLowerCase();return 1==/^button|submit|reset|file|image$/.test(e)||"button"==i||(0==t.matches("input, select, textarea")&&t.children&&(t=t.querySelectorAll("input, select, textarea")),1==t.nodeType?this.getValidity(t).valid:!t.length||[].slice.call(t).every(function(t){return this.checkValidity(t)}.bind(this)))},getValidity:function(t){if(t.lastValidateState&&t.lastValue===t.value&&0==/radio|checkbox/.test(t.type))return t.lastValidateState;var e={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1};e=Object.assign({},e,this.getMissingState(t),this.getMismatchState(t),this.getRangeState(t),this.getLengthState(t),this.getCustomState(t));var i=!1;for(var a in e)"valid"!=a&&1==e[a]&&(i=!0);return e.valid=!i,t.lastValue=t.value,t.lastValidateState=e,setTimeout((function(){delete t.lastValidateState}),1),e},reportValidity:function(t,e){e=e||this.getReportText(t),this.errorTip(t,e);var i=!e;return this.styleError(t,i),i},styleError:function(t,e){if(!t)return this;void 0===e&&(e=t.validity.valid);var i=this.getTarget(t);if(!i)return e;var a=t.closest("form")||t.customValidate&&t.customValidate.owner;return"radio"==t.type&&t.name&&a?a.querySelectorAll("input[type=radio][name="+t.name+"]").forEach(function(t){var i=this.getTarget(t);e?(i.classList.remove("error"),i.removeAttribute("aria-label")):i.classList.add("error")}.bind(this)):e?(i.classList.remove("error"),i.removeAttribute("aria-label")):i.classList.add("error"),e},errorTip:function(e,i){var a=this.getTarget(e);if(!a||!i)return this;var n=window.getComputedStyle(a);if("none"==n.display||"hidden"==n.visibility)return this;var r=function(){var a=document.validate.errorTip.control,n=document.validate.errorTip.target;if(new t(n,i,{onShow:function(t,e){var i=.5*(e.clientWidth-n.clientWidth);e.style.marginLeft=i<0?.5*(e.clientWidth-n.clientWidth)+"px":0,!1===document.validate.focusable?e.classList.add("none"):e.classList.remove("none")},onHide:function(){var t=a.closest("form");t&&t.isImmediated&&document.validate.styleError(a)}}),!1!==document.validate.focusable&&0!==document.validate.focusable&&(document.validate.focusable=null,document.validate.getType(a)))if(-1!=i.indexOf("内容长度")&&-1!=i.indexOf("大")){var r=a.value.length,s=a.maxlength||a.getAttribute("maxlength").replace(/\D/g,"");r&&s&&document.validate.selectRange(e,document.validate.getLength(e,s),r)}else a.focus&&a.select&&(a.focus(),a.select())};document.validate.errorTip.control=e,document.validate.errorTip.target=a;var s=a.getBoundingClientRect(),o=-1;return s.top<50?o=window.pageYOffset-(50-s.top):s.bottom>window.innerHeight&&(o=window.pageYOffset+(s.bottom-window.innerHeight)),o>=0?window.scrollTopTo(o,r):r(),this},getTarget:function(t){if(!t)return null;var e=t,i=t.getAttribute("type")||t.type,a=t.id,n=t.tagName.toLowerCase(),r=window.getComputedStyle(t);if("radio"==i&&"1"!=r.opacity)e=t.parentElement.querySelector('label.ui-radio[for="'+a+'"]');else if("checkbox"==i&&"1"!=r.opacity)e=t.parentElement.querySelector('label.ui-checkbox[for="'+a+'"]');else if("select"==i||"select"==n)"1"!=r.opacity&&(e=t.nextElementSibling);else if("range"==i)"none"==r.display&&(e=t.nextElementSibling);else if("hidden"==i||"none"==r.display||"hidden"==r.visibility){var s=document.getElementById(e.getAttribute("data-target"))||t.dataTarget;s&&(e=document.validate.getTarget(s))}else"textarea"==i||"textarea"==n?0==t.classList.contains("ui-textarea")&&t.parentElement.querySelector(".ui-textarea")&&(e=t.parentElement.querySelector(".ui-textarea")):"input"==n&&0==t.classList.contains("ui-input")&&t.parentElement.querySelector(".ui-input")&&(e=t.parentElement.querySelector(".ui-input"));return e}},[HTMLInputElement.prototype,HTMLSelectElement.prototype,HTMLTextAreaElement.prototype].forEach((function(t){Object.defineProperty(t,"validity",{get:function(){return document.validate.getValidity(this)},configurable:!0}),Object.defineProperty(t,"validationMessage",{get:function(){return document.validate.getReportText(this)},configurable:!0}),Object.defineProperty(t,"checkValidity",{value:function(){return this.validity.valid},configurable:!0}),Object.defineProperty(t,"reportValidity",{value:function(t){return document.validate.reportValidity(this,t)},configurable:!0}),Object.defineProperty(t,"setCustomValidity",{value:function(t){if(t){var e=["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"];this.customValidate||(this.customValidate={}),this.customValidate.report||(this.customValidate.report={}),"string"==typeof t?e.forEach(function(e){this.customValidate.report[e]=t}.bind(this)):"object"==typeof t&&Object.assign(this.customValidate.report,t)}},configurable:!0})})),Object.defineProperty(HTMLFormElement.prototype,"checkValidity",{value:function(){return document.validate.checkValidity(this)},configurable:!0});var e=function(t,e,i){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;var a=t;if(a.data&&a.data.validate)return a.data.validate;a.setAttribute("novalidate","novalidate");var n={multiple:!0,immediate:!0,label:!0,validate:[],onError:function(){},onSuccess:function(){}},r=Object.assign({},n,i||{});a.querySelectorAll('[type="submit"]:disabled, [type="image"]:disabled').forEach((function(t){t.disabled=!1})),a.addEventListener("submit",function(t){if(!this.stopValidate)return t.preventDefault(),this.checkValidity()&&"function"==typeof e&&e.call(this,a),!1}.bind(this));var s=r.validate;s&&!s.forEach&&s.id&&(s=[s]);var o=r.label;return a.querySelectorAll("input, select, textarea").forEach(function(t){var e=t.id,i={label:o,owner:this};e&&s&&s.length&&s.forEach(function(t){t.id==e&&(t.label=o,t.owner=this,i=t)}.bind(this)),t.lastValue=t.value||"",t.customValidate=i}.bind(this)),this.element={form:a},this.callback={error:r.onError,success:r.onSuccess},this.data=s,this.params={multiple:r.multiple,immediate:r.immediate,label:o},this.count(),this.enhance(),a.data||(a.data={}),a.data.validate=this,this};Object.defineProperty(e.prototype,"count",{value:function(){var t=this.element.form;return t.querySelectorAll("input, textarea").forEach((function(e){var i=e.getAttribute("maxlength");if(i)try{e.setAttribute("maxlength","_"+i+"_")}catch(t){e.removeAttribute("maxlength"),e.maxlength=i}var a=e.getAttribute("minlength");if(i){i&&(i=i.replace(/\D/g,""));var n=e.tagName.toLowerCase(),r={add:function(){return["ui",n].concat([].slice.call(arguments)).join("-")},toString:function(){return"ui-"+n}},s=e.parentElement.querySelector("."+r.add("count"))||t.querySelector("."+r.add("count")+'[for="'+e.id+'"]');if(s||e.parentElement.classList.contains(r.add("x"))){var o=e.id;o||(o=("lulu_"+Math.random()).replace("0.",""),e.id=o),s?s.hasAttribute("for")||s.setAttribute("for",o):((s=document.createElement("label")).className=r.add("count"),s.setAttribute("for",o),s.innerHTML="<span>0</span><slash>/</slash><span>"+(a?a+"-":"")+i+"</span>",e.parentElement.appendChild(s));var l=s.querySelector("span")||s,d=function(){var t=document.validate.getLength(e);l.innerHTML=t,0!=t&&(t>i||a&&t<a)?l.classList.add("error"):l.classList.remove("error")};e.addEventListener("input",d),d(),history.pushState||e.addEventListener("blur",d)}}})),this}}),Object.defineProperty(e.prototype,"enhance",{value:function(){this.element.form.querySelectorAll("input, textarea").forEach((function(t){var e=document.validate.getType(t);0==/^checkbox|radio|range$/i.test(e)&&t.addEventListener("paste",(function(e){var i=this.getAttribute("type")||this.type,a=e.clipboardData||window.clipboardData,n="";if(a){var r="";window.getSelection?r=this.value.slice(t.selectionStart,t.selectionEnd):document.selection&&(r=document.selection.createRange().text),""!=this.value.trim()&&r!==this.value||(e.preventDefault(),e.stopPropagation(),n=a.getData("text")||"","password"!=i&&(n=n.trim()),"email"==i?n=n.replace("#","@"):"tel"==i&&(n=document.validate.getTel(n)),this.value=n,t.dispatchEvent(new CustomEvent("input")))}}))}))}}),e.prototype.immediate=function(){var t=this.element.form;return t.isImmediated||(t.querySelectorAll("input, select, textarea").forEach(function(t){var e=t.type,i=t.getAttribute("type");"button"!=e&&"submit"!=e&&"reset"!=e&&"file"!=e&&"image"!=e&&("radio"==e||"checkbox"==e?t.addEventListener("click",function(){0!=this.params.immediate&&this.reportValidity(t)}.bind(this)):/select/.test(e)||/range|date|time|hour|minute|hidden/.test(i)?t.addEventListener("change",function(){0!=this.params.immediate&&this.reportValidity(t)}.bind(this)):(t.addEventListener("focus",function(){this.params.immediate&&setTimeout(function(){document.validate.focusable=0,this.reportValidity(t)}.bind(this),20)}.bind(this)),t.addEventListener("input",function(){0!=this.params.immediate&&(null==document.msHidden||""!=t.value||t.lastValue||!t.getAttribute("placeholder")?(document.validate.focusable=!1,this.reportValidity(t),t.lastValue=t.value):t.lastValue=t.value)}.bind(this))))}.bind(this)),t.isImmediated=!0),this},e.prototype.checkValidity=function(){var t=this.element.form,e=!0;return document.validate.focusable=!0,t.querySelectorAll("input, select, textarea").forEach(function(t){if(1==e||this.params.multiple){var i=document.validate.styleError(t);1==e&&0==i&&(this.reportValidity(t),e=!1),this.callback[i?"success":"error"].call(this,t)}}.bind(this)),!t.isImmediated&&this.params.immediate&&this.immediate(),e},e.prototype.reportValidity=function(t,e){t&&document.validate.reportValidity(t,e)};var i=function(){var t="form[is-validate]",e=function(e){e&&e.forEach&&e.forEach((function(e){e.matches&&e.matches(t)&&e.dispatchEvent(new CustomEvent("connected"))}))};(setTimeout((function(){e(document.querySelectorAll(t))}),1),!1!==window.watching)&&(window.MutationObserver?new MutationObserver((function(i){i.forEach((function(i){i.addedNodes.forEach((function(i){i.matches&&(i.matches(t)?e([i]):i.querySelector&&e(i.querySelectorAll(t)))}))}))})).observe(document.body,{childList:!0,subtree:!0}):document.body.addEventListener("DOMNodeInserted",(function(t){e([t.target])})))};"loading"!=document.readyState?i():window.addEventListener("DOMContentLoaded",i);return e}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Pagination=function(){var t={add:function(){return["ui-page"].concat([].slice.call(arguments)).join("-")},join:function(){return t+" "+this.add.apply(this,arguments)},toString:function(){return"ui-page"}},e=function(t,e){var i={total:0,current:1,per:15,mode:"long",href:null,onClick:function(){}},a=t;if("string"==typeof t&&(a=document.querySelector(t)),a){var n={};for(var r in i){var s=t.getAttribute(r);"string"!=typeof s&&(s=a.dataset[r]),"string"==typeof s&&(n[r]=s)}if(a.data&&a.data.pagination)return a.data.pagination}var o=Object.assign({},i,n,e||{});if(this.params=Object.assign({},o),delete this.params.onClick,this.callback={click:o.onClick},this.element={container:a,pagination:a},this.svg='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><path d="M85.876,100.5l49.537-50.526c4.089-4.215,4.089-11.049,0-15.262 c-4.089-4.218-10.719-4.218-14.808,0L63.586,92.868c-4.089,4.215-4.089,11.049,0,15.264l57.018,58.156 c4.089,4.215,10.719,4.215,14.808,0c4.089-4.215,4.089-11.049,0-15.262L85.876,100.5z"/></svg>',!a)return this;this.events(),this.show(),a.data||(a.data={}),a.data.pagination=this,Object.keys(this.params).forEach((function(t){Object.defineProperty(a,t,{writeable:!0,enumerable:!0,get:function(){return this.getAttribute(t)||function(){return this.data&&this.data.pagination&&this.data.pagination.params[t]||null}()},set:function(e){this.setAttribute(t,e),this.data&&this.data.pagination&&(this.data.pagination.params[t]=e,this.data.pagination.show())}})}))};e.prototype.events=function(){var e=this.element.pagination;e.addEventListener("click",function(i){var a=i.target.closest("a");if(a){var n=a.getAttribute("data-page");this.params.current=1*n,e.hasAttribute("current")?e.setAttribute("current",n):e.hasAttribute("data-current")&&e.setAttribute("data-current",n);var r=a.className;this.show(),(a=/prev/.test(r)?e.querySelector("."+t.add("prev")):/next/.test(r)?e.querySelector("."+t.add("next")):e.querySelector("."+t.add("current")))&&(a.focus(),0==window.isKeyEvent&&a.blur(),/^javascript/.test(a.href)&&i.preventDefault()),this.callback.click.call(this,a,this.params.current),e.dispatchEvent(new CustomEvent("change"))}}.bind(this))},e.prototype.create=function(){var e=this.params,i=1*e.total||0,a=1*e.current||1,n=1*e.per||1,r=e.href||"javascript:",s=function(t){return"function"==typeof r?r(t):r.toString().replace("${current}",t)},o=Math.ceil(i/n)||1,l="";l=a>1?l+'<a href="'+s(a-1)+'" class="'+t.join("prev")+'" data-page="'+(a-1)+'" aria-label="上一页，当前第'+a+'页">'+this.svg+"</a>":l+'<span class="'+t.join("prev")+'">'+this.svg+"</span>";var d=6;if("long"==e.mode){var c=function(e){l=e==a?l+'<span class="'+t.join("current")+'" aria-label="第'+e+"页，共"+o+'页" aria-selected="true" role="option">'+e+"</span>":l+'<a href="'+s(e)+'" class="'+t+'" data-page="'+e+'" aria-label="第'+e+"页，共"+o+'页">'+e+"</a>"};if(o<=d)for(var u=1;u<=o;u++)c(u);else if(a<.5*o&&a<d-1){if(a<d-1)for(u=1;u<d;u++)c(u);l=l+'<span class="'+t.join("ellipsis")+'">...</span>',c(o)}else if(a>.5*o&&a>o-d+2)for(c(1),l=l+'<span class="'+t.join("ellipsis")+'">...</span>',u=o-d+2;u<=o;u++)c(u);else c(1),l=l+'<span class="'+t.join("ellipsis")+'">...</span>',c(a-1),c(a),c(a+1),l=l+'<span class="'+t.join("ellipsis")+'">...</span>',c(o)}else"short"==e.mode&&(l=l+'<span class="'+t.join("text")+'" aria-label="第'+a+"页，共"+o+'页" role="option">'+[a,o].join("/")+"</span>");return l=a<o?l+'<a href="'+s(a+1)+'" class="'+t.join("next")+'" data-page="'+(a+1)+'" aria-label="下一页，当前第'+a+'页">'+this.svg+"</a>":l+'<span class="'+t.join("next")+'">'+this.svg+"</span>",'<div class="'+t.add("x")+'">'+l+"</div>"},e.prototype.show=function(){var t=this.params;t.total=Math.max(t.total,0),t.per=Math.max(t.per,0);var e=Math.ceil(t.total/t.per);return t.current>e?t.current=e:t.current<1&&(t.current=1),this.element.pagination.innerHTML=this.create(),this},e.prototype.refresh=function(){var t=this.params,e=this.element.pagination;for(var i in t)e.hasAttribute(i)&&(this.params[i]=e.getAttribute(i));this.show()};var i=function(){var t="ui-pagination, [is-pagination]";if(document.querySelectorAll(t).forEach((function(t){new e(t)})),!1!==window.watching){var i=function(i){if(1==i.nodeType&&0!=i.matches(t)){var a=i,n=a.data&&a.data.pagination;n?n.refresh():new e(a)}};if(window.MutationObserver)new MutationObserver((function(e){e.forEach((function(e){"childList"==e.type&&e.addedNodes.forEach((function(e){e.matches&&e.matches(t)?i(e):e.querySelector&&e.querySelectorAll(t).forEach((function(t){i(t)}))}))}))})).observe(document.body,{childList:!0,subtree:!0});else document.body.addEventListener("DOMNodeInserted",(function(t){i(t.target)}))}};"loading"!=document.readyState?i():window.addEventListener("DOMContentLoaded",i);return e}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Table=function(){var t=(this||self).Drop,e=(this||self).Pagination;(this||self).Loading;window.scrollTopTo=function(t,e){var i=document.scrollingElement.scrollTop,a=2,n=function(){if(i+=(t-i)/a,Math.abs(i-t)<=1)return document.scrollingElement.scrollTop=t,void(e&&e());document.scrollingElement.scrollTop=i,requestAnimationFrame(n)};n()};var i="loading",a="checked",n="selected",r={container:"table-x",empty:"table-null-x",error:"table-error-x",loading:"ui-loading",total:"table-page-total",per:"table-page-per",data:"table-page-data",page:"table-page",checkbox:'[type="checkbox"]'},s=function(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;if(t.data&&t.data.table)return t.data.table;var i={total:0,per:15,current:1,keyMap:{key:"",total:"total",per:"per",current:"current"}},a={ajaxOptions:{},pageList:[15,30,50],pageOptions:i,parse:function(t){return"string"==typeof t?t:""},onShow:function(){},onPage:null,onCheck:function(){}};e=e||{};var n=Object.assign({},a,e);e.pageOptions&&(n.pageOptions=Object.assign({},i,e.pageOptions));var s=t,o=s.closest("."+r.container),l=null,d=null,c=null,u=null,h=null,p=null;o&&(l=o.querySelector("."+r.empty),d=o.querySelector(r.loading+", ."+r.loading),c=o.querySelector("."+r.total),u=o.querySelector("."+r.per),h=o.querySelector("."+r.data),p=o.querySelector("."+r.page)),this.element={container:o,table:s,empty:l,loading:d,total:c,per:u,data:h,page:p},this.callback={parse:n.parse,page:n.onPage,check:n.onCheck,show:n.onShow},this.params={page:n.pageOptions,ajax:n.ajaxOptions,list:n.pageList},this.events();var f=s.querySelector("tbody");f?(""==f.textContent.trim()?(this.isFirstAjax=!0,this.ajax()):this.page(),s.data||(s.data={}),s.data.table=this):window.console.error("<tbody>元素必需")};s.prototype.events=function(){var e=this.params,i=this.element,s=this.callback,o=i.table;o.addEventListener("click",function(t){var e=t.target;if(e&&"checkbox"==e.type&&e.closest("tr").querySelector(":first-child "+r.checkbox)===e){var i=[];o.querySelectorAll("tr").forEach((function(t){if(0!=t.clientWidth){var e=t.querySelector("td:first-child "+r.checkbox+":enabled");e&&i.push(e)}}));var l=!1,d=!1;if(e.closest("th"))d=!(l=e[a]),i.forEach((function(t){t[a]=l}));else{var c=[].slice.call(i).filter((function(t){return t[a]})).length;l=i.length==c,d=0==c}var u=o.querySelector("th:first-child "+r.checkbox);u&&(u[a]=l),i.forEach((function(t){t.closest("tr").classList[t[a]?"add":"remove"](n)})),s.check.call(this,l,d,e,i)}}.bind(this)),o.addEventListener("click",(function(t){var e=t.target,i=null;e&&0==/^(?:a|input|textarea|tbody|i|select|label|th)$/i.test(e.tagName)&&(i=e.closest("tr")&&e.closest("tr").querySelector("td:first-child "+r.checkbox+":enabled"))&&i.click()}));var l=o.id,d=e.page.per,c=i.per;if(c){if(l&&window.localStorage&&localStorage[l]&&(d=localStorage[l],e.page.per=d),c.innerHTML=d,!t)return void window.console.error("need Drop.js");this.dropList=new t(c).list(e.list.map((function(t){return{value:t}})),{width:60,onSelect:function(t){var i=t.value;window.localStorage&&l&&(localStorage[l]=i),e.page.per!=i&&(e.page.per=i,e.page.current=1,this.ajax())}.bind(this)})}},s.prototype.ajax=function(t){t=t||{};var e=this.params,a=this.element,n=this.callback,s=a.table,o=a.container;if("true"==s.getAttribute("aria-busy"))return this;var l=s.querySelector("tbody"),d=Object.assign({},e.ajax,t);if(!d.url)return this;/^\/\//.test(d.url)&&(d.url=location.protocol+d.url);var c=t.data||{},u=e.ajax.data||{};"function"==typeof u&&(u=u()||{});var h={},p=e.page.keyMap;p&&(h[p.current]=e.page.current,h[p.per]=e.page.per);var f=Object.assign({},h,u,c);p&&(e.page.current=f[p.current],e.page.per=f[p.per]);var m=new URLSearchParams(f),v=d.url,g="?";v.split("?").length>1&&(g+=v.split("?")[1]),v=v.split("?")[0]+g+"&"+m.toString();var y=function(t){var e=o.querySelector("."+r.error);e||((e=document.createElement("div")).className=r.error,s.insertAdjacentElement("afterend",e),a.error=e),e.style.display="block",e.innerHTML=t||"数据没有获取成功","function"==typeof d.error&&d.error()},b=function(){if(s.removeAttribute("aria-busy"),a.loading&&(a.loading.style.display="none"),this.pagination){var t=this.pagination.element.container.querySelector("."+i);t&&t.classList.remove(i)}"function"==typeof d.complete&&d.complete(),this.show()},w=function(){if(!history.pushState&&/\/\//.test(v)&&v.split("//")[1].split("/")[0]!=location.host)return b.call(this),void y("当前浏览器不支持跨域数据请求");var t=new XMLHttpRequest;t.open("GET",v),t.onload=function(){var i={};try{i=JSON.parse(t.responseText)||{}}catch(t){return b.call(this),void y("解析异常，请稍后重试")}if(0!==i.code&&0!==i.error)return b.call(this),void y(i.msg||"返回数据格式不符合要求");var o=n.parse(i);if(history.pushState)l.innerHTML=o||"";else{var c=document.createElement("div");c.innerHTML="<table><tbody>"+(o||"")+"</tbody></table>",l.parentNode.replaceChild(c.firstChild.firstChild,l)}var u=a.empty;o&&o.trim()||(u||((u=document.createElement("div")).className=r.empty,s.insertAdjacentElement("afterend",u),a.empty=u),u.style.display="block");var h,f=p.key;((h=f?i.data[f][p.total]:i.data[p.total])||0==h)&&(a.total&&(a.total.innerHTML=h),e.page.total=h),a.data&&(a.data.style.display="block"),this.page(),"function"==typeof d.success&&d.success(i),b.call(this)}.bind(this),t.onerror=function(){y("网络异常，数据没有获取成功，您可以稍后重试！"),b.call(this)}.bind(this),t.send(),s.setAttribute("aria-busy","true")},E=window.pageYOffset,A=a.loading;if(A||((A=document.createElement("div")).className=r.loading,s.insertAdjacentElement("afterend",A),a.loading=A),A.style.paddingBottom="","none"==window.getComputedStyle(A).display){var S=s.querySelector("thead");A.style.height=s.clientHeight-(S?S.clientHeight:0)+"px",""==l.innerHTML.trim()&&(A.style.height="")}var L=parseFloat(A.style.height)-window.innerHeight;L>0&&(A.style.paddingBottom=L+"px"),A.style.display="block",a.empty&&(a.empty.style.display="none"),a.error&&(a.error.style.display="none"),l.innerHTML="";var x=s.getBoundingClientRect();return!this.isFirstAjax&&x.top<0?(E=x.top+E,window.scrollTopTo(E,function(){w.call(this)}.bind(this))):!this.isFirstAjax&&x.top>window.innerHeight?(E-=x.top,window.scrollTopTo(E,function(){w.call(this)}.bind(this))):(w.call(this),this.isFirstAjax=!1),this},s.prototype.page=function(t){if(!this.element.page)return this;if(!e)return window.console.error("need Pagination.js"),this;var a=this.params.page;console.log(this.pagination),this.pagination?(this.pagination.params=Object.assign(this.pagination.params,a),this.pagination.show()):(this.pagination=new e(this.element.page,{total:t||a.total,current:a.current,per:a.per,mode:a.mode||"long",onClick:function(t,e){a.current=e,"function"==typeof this.callback.page?this.callback.page.call(this,t,e):(t.classList.add(i),this.ajax())}.bind(this)}),console.log(this.pagination))},s.prototype.show=function(){this.element.loading&&(this.element.loading.style.paddingBottom="");var t=this.element.table.querySelector("th:first-child "+r.checkbox);return t&&(t[a]=!1),"function"==typeof this.callback.show&&this.callback.show.call(this),this};var o=function(){var t="table[is-table]",e=function(e){e&&e.forEach&&e.forEach((function(e){e.matches&&e.matches(t)&&e.dispatchEvent(new CustomEvent("connected"))}))};(setTimeout((function(){e(document.querySelectorAll(t))}),1),!1!==window.watching)&&(window.MutationObserver?new MutationObserver((function(i){i.forEach((function(i){i.addedNodes.forEach((function(i){i.matches&&(i.matches(t)?e([i]):i.querySelector&&e(i.querySelectorAll(t)))}))}))})).observe(document.body,{childList:!0,subtree:!0}):document.body.addEventListener("DOMNodeInserted",(function(t){e([t.target])})))};"loading"!=document.readyState?o():window.addEventListener("DOMContentLoaded",o);return s}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(t,e){t.Form=function(){var t=(this||self).LightTip,e=((this||self).Loading,(this||self).Validate),i="disabled",a=function(t,i,a){if("string"==typeof t&&(t=document.querySelector(t)),!t)return this;if(t.data&&t.data.form)return t.data.form;"function"==typeof(i=i||function(){})&&(i={success:i}),a=a||{};var n=t,r=n.querySelector('[type="submit"], [type="image"]');return r||(r=n.querySelector("button:nth-of-last-type()")),r?(!1===window.autoInit&&n.querySelectorAll("select").forEach((function(t){t.refresh&&t.refresh()})),this.element={form:n,submit:r},this.callback=i,this.validate=new e(n,function(){i.avoidSend&&i.avoidSend.call(this,n)||this.ajax()}.bind(this),a),n.data||(n.data={}),n.data.form=this,this):this};a.prototype.ajax=function(){var e=this.callback,a=this.element.form,n=null,r=this.element.submit;(n=r.id&&document.querySelector("label[for="+r.id+"]"))||(n=r),this.element.button=n;var s=a.action.split("#")[0]||location.href.split("#")[0],o=a.method||"POST",l=a.enctype;if(history.pushState||new URL(s).host==location.host){n.loading=!0,r.setAttribute(i,i);var d=new FormData(a),c=new URLSearchParams(d).toString();"get"==o.toLowerCase()&&(s=s.split("?").length>1?s+"&"+c:s+"?"+c);var u=new XMLHttpRequest;u.open(o,s),l&&u.setRequestHeader("Content-Type",l),e.beforeSend&&e.beforeSend.call(this,u,d),u.onload=function(){var i={};try{!(i=JSON.parse(u.responseText))||0!=i.code&&0!=i.error?((new t).error(i&&i.msg||"返回数据格式不符合要求。"),e.error&&e.error.call(this,i)):e.success?e.success.call(this,i):((new t).success(i.msg||"操作成功。"),a.reset())}catch(a){(new t).error(i.msg||"返回数据解析出错。"),e.error&&e.error.call(this,a)}h(i)}.bind(this),u.onerror=function(){(new t).error("网络异常，刚才的操作没有成功，您可以稍后重试。"),e.error&&e.error.apply(this,arguments),h()}.bind(this);var h=function(){n.loading=!1,r.removeAttribute(i),e.complete&&e.complete.apply(this,arguments)};l&&"application/x-www-form-urlencoded"===l.toLowerCase()?u.send(c):u.send(d)}else(new t).error("当前浏览器不支持跨域数据请求。")},a.prototype.submit=function(){return this.element.form.dispatchEvent(new CustomEvent("submit")),this};var n=function(){var t="form[is-form]",e=function(e){e&&e.forEach&&e.forEach((function(e){e.matches&&e.matches(t)&&e.dispatchEvent(new CustomEvent("connected"))}))};(setTimeout((function(){e(document.querySelectorAll(t))}),1),!1!==window.watching)&&(window.MutationObserver?new MutationObserver((function(i){i.forEach((function(i){i.addedNodes.forEach((function(i){i.matches&&(i.matches(t)?e([i]):i.querySelector&&e(i.querySelectorAll(t)))}))}))})).observe(document.body,{childList:!0,subtree:!0}):document.body.addEventListener("DOMNodeInserted",(function(t){e([t.target])})))};"loading"!=document.readyState?n():window.addEventListener("DOMContentLoaded",n);return a}()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);